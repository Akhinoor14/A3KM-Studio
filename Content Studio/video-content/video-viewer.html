<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Video Blog - Md Akhinoor Islam</title>
  <link rel="icon" href="../../images/favicon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="../../Optimization/styles.css" />
  <link rel="stylesheet" href="../../Optimization/Background/background-system.css" />
  <link rel="stylesheet" href="../written-posts/post-viewer.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  
  <meta name="description" content="Watch video by Md Akhinoor Islam" />
  <meta name="theme-color" content="#CC0000" />
  
  <style>
    .video-container {
      max-width: 1200px;
      margin: 30px auto 60px;
      padding: 0 40px;
    }

    .video-player {
      position: relative;
      width: 100%;
      padding-bottom: 56.25%; /* 16:9 aspect ratio */
      background: #000;
      border-radius: 20px;
      overflow: hidden;
      border: 3px solid rgba(204, 0, 0, 0.3);
      box-shadow: 0 15px 60px rgba(0, 0, 0, 0.8);
      margin-bottom: 40px;
    }

    .video-player iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }

    .video-meta {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
      margin-bottom: 30px;
    }

    .meta-card {
      background: rgba(10, 10, 10, 0.9);
      border: 2px solid rgba(204, 0, 0, 0.3);
      border-radius: 12px;
      padding: 15px;
      text-align: center;
    }

    .meta-card i {
      font-size: 1.5rem;
      color: #CC0000;
      margin-bottom: 8px;
      display: block;
    }

    .meta-card span {
      display: block;
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.6);
      margin-bottom: 5px;
    }

    .meta-card strong {
      font-size: 1.1rem;
      color: #fff;
      font-weight: 700;
    }
  </style>
</head>
<body>
    <!-- CENTRALIZED BACKGROUND SYSTEM -->
    <div class="bg-system-container">
        <!-- Animated Background Elements -->
        <div class="bg-hero-bg-elements">
            <!-- Geometric Shapes -->
            <div class="bg-geometric-shapes">
                <div class="bg-shape bg-shape-1"></div>
                <div class="bg-shape bg-shape-2"></div>
                <div class="bg-shape bg-shape-3"></div>
                <div class="bg-shape bg-shape-4"></div>
                <div class="bg-shape bg-shape-5"></div>
            </div>
            
            <!-- Gradient Orbs -->
            <div class="bg-gradient-orbs">
                <div class="bg-orb bg-orb-1"></div>
                <div class="bg-orb bg-orb-2"></div>
                <div class="bg-orb bg-orb-3"></div>
            </div>
            
            <!-- Particle Canvas -->
            <canvas id="particles-canvas" class="bg-particles-canvas"></canvas>
        </div>
        
        <!-- Dark Overlay for Contrast -->
        <div class="bg-system-overlay"></div>
        
        <!-- PAGE CONTENT WRAPPER -->
        <div class="bg-system-content">

  <div class="back-to-hub">
    <a href="../hub.html" class="back-btn"><i class="fas fa-arrow-left"></i><span>Back to Content Studio</span></a>
  </div>

  <article class="video-container">
    <div class="post-loading" id="videoLoading">
      <i class="fas fa-spinner fa-spin"></i><span>Loading video...</span>
    </div>

    <div id="videoContent" style="display: none;">
      <header class="post-header">
        <div class="post-badge"><i class="fas fa-video"></i><span>Video Blog</span></div>
        <h1 class="post-title" id="videoTitle">Loading...</h1>
        <div class="post-meta">
          <div class="meta-item"><i class="fas fa-calendar"></i><span id="videoDate">-</span></div>
          <div class="meta-item"><i class="fas fa-clock"></i><span id="videoDuration">-</span></div>
          <div class="meta-item"><i class="fas fa-eye"></i><span id="videoViews">0</span></div>
        </div>
        <div class="post-tags" id="videoTags"></div>
        <div class="share-buttons">
          <span class="share-label">Share:</span>
          <button class="share-btn facebook" onclick="shareVideo('facebook')"><i class="fab fa-facebook-f"></i></button>
          <button class="share-btn twitter" onclick="shareVideo('twitter')"><i class="fab fa-twitter"></i></button>
          <button class="share-btn whatsapp" onclick="shareVideo('whatsapp')"><i class="fab fa-whatsapp"></i></button>
          <button class="share-btn link" onclick="copyVideoLink()"><i class="fas fa-link"></i></button>
        </div>
      </header>

      <div class="video-player" id="videoPlayer"></div>

      <div class="video-meta">
        <div class="meta-card"><i class="fas fa-play-circle"></i><span>Duration</span><strong id="durationDisplay">-</strong></div>
        <div class="meta-card"><i class="fas fa-eye"></i><span>Views</span><strong id="viewsDisplay">0</strong></div>
        <div class="meta-card"><i class="fas fa-heart"></i><span>Likes</span><strong id="likesDisplay">0</strong></div>
        <div class="meta-card"><i class="fas fa-tv"></i><span>Platform</span><strong id="platformDisplay">-</strong></div>
      </div>

      <div class="post-content" id="videoDescription"></div>

      <footer class="post-footer">
        <div class="footer-actions">
          <button class="action-btn like-btn" id="likeBtn"><i class="far fa-heart"></i><span id="likeCount">0</span></button>
          <button class="action-btn bookmark-btn" id="bookmarkBtn"><i class="far fa-bookmark"></i><span>Bookmark</span></button>
        </div>
      </footer>
    </div>
  </article>

  <!-- Navigation Section -->
  <nav class="post-navigation" style="display: none;">
    <a href="#" id="prevVideo" class="nav-post prev-post">
      <span class="nav-label">← Previous Video</span>
      <h4 class="nav-post-title" id="prevVideoTitle"></h4>
      <p class="nav-post-excerpt" id="prevVideoExcerpt"></p>
    </a>
    <a href="#" id="nextVideo" class="nav-post next-post">
      <span class="nav-label">Next Video →</span>
      <h4 class="nav-post-title" id="nextVideoTitle"></h4>
      <p class="nav-post-excerpt" id="nextVideoExcerpt"></p>
    </a>
  </nav>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 Md Akhinoor Islam. All rights reserved.</p>
      <p style="font-size: 0.9rem; color: rgba(255,255,255,0.6); margin-top: 8px;">Portfolio presented by <strong>A3KM Studio</strong> | Part of Noor Academy</p>
    </div>
  </footer>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const videoId = urlParams.get('id');
    let currentVideo = null;
    let allVideos = [];

    async function loadVideo() {
      if (!videoId) return;
      try {
        const response = await fetch('videos.json');
        const data = await response.json();
        allVideos = data.videos || [];
        currentVideo = allVideos.find(v => v.id === videoId);
        if (currentVideo) {
          renderVideo();
          setupNavigation();
        }
      } catch (error) {
        console.error('Error loading video:', error);
      }
    }

    function renderVideo() {
      document.getElementById('videoTitle').textContent = currentVideo.title;
      document.getElementById('videoDate').textContent = new Date(currentVideo.date).toLocaleDateString('en-GB', { day: 'numeric', month: 'long', year: 'numeric' });
      document.getElementById('videoDuration').textContent = currentVideo.duration;
      document.getElementById('videoViews').textContent = currentVideo.views || 0;
      document.getElementById('durationDisplay').textContent = currentVideo.duration;
      document.getElementById('viewsDisplay').textContent = currentVideo.views || 0;
      document.getElementById('likesDisplay').textContent = currentVideo.likes || 0;
      document.getElementById('platformDisplay').textContent = currentVideo.platform.toUpperCase();
      document.getElementById('videoDescription').innerHTML = `<p>${currentVideo.summary}</p>`;
      document.title = `${currentVideo.title} - Md Akhinoor Islam`;

      if (currentVideo.tags) {
        document.getElementById('videoTags').innerHTML = currentVideo.tags.map(tag => `<span class="post-tag">${tag}</span>`).join('');
      }

      // Embed YouTube player
      if (currentVideo.platform === 'youtube') {
        document.getElementById('videoPlayer').innerHTML = `<iframe src="https://www.youtube.com/embed/${currentVideo.videoId}" allowfullscreen allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>`;
      }

      document.getElementById('videoLoading').style.display = 'none';
      document.getElementById('videoContent').style.display = 'block';
    }

    function setupNavigation() {
      const currentIndex = allVideos.findIndex(v => v.id === videoId);
      if (currentIndex === -1) return;

      const prevVideo = currentIndex > 0 ? allVideos[currentIndex - 1] : null;
      const nextVideo = currentIndex < allVideos.length - 1 ? allVideos[currentIndex + 1] : null;

      const navSection = document.querySelector('.post-navigation');
      const prevLink = document.getElementById('prevVideo');
      const nextLink = document.getElementById('nextVideo');
      const prevTitle = document.getElementById('prevVideoTitle');
      const nextTitle = document.getElementById('nextVideoTitle');
      const prevExcerpt = document.getElementById('prevVideoExcerpt');
      const nextExcerpt = document.getElementById('nextVideoExcerpt');

      if (!navSection) return;

      if (prevVideo && prevLink) {
        prevLink.href = `video-viewer.html?id=${prevVideo.id}`;
        prevTitle.textContent = prevVideo.title;
        prevExcerpt.textContent = prevVideo.summary || `Watch ${prevVideo.title}`;
        prevLink.style.display = 'flex';
      } else if (prevLink) {
        prevLink.style.display = 'none';
      }

      if (nextVideo && nextLink) {
        nextLink.href = `video-viewer.html?id=${nextVideo.id}`;
        nextTitle.textContent = nextVideo.title;
        nextExcerpt.textContent = nextVideo.summary || `Watch ${nextVideo.title}`;
        nextLink.style.display = 'flex';
      } else if (nextLink) {
        nextLink.style.display = 'none';
      }

      if (prevVideo || nextVideo) {
        navSection.style.display = 'block';
      }
    }

    function shareVideo(platform) {
      const url = encodeURIComponent(window.location.href);
      const title = encodeURIComponent(currentVideo.title);
      let shareUrl;
      if (platform === 'facebook') shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
      else if (platform === 'twitter') shareUrl = `https://twitter.com/intent/tweet?url=${url}&text=${title}`;
      else if (platform === 'whatsapp') shareUrl = `https://wa.me/?text=${title}%20${url}`;
      window.open(shareUrl, '_blank', 'width=600,height=400');
    }

    function copyVideoLink() {
      navigator.clipboard.writeText(window.location.href);
    }

    document.addEventListener('DOMContentLoaded', loadVideo);
  </script>

        </div> <!-- END bg-system-content -->
    </div> <!-- END bg-system-container -->
</body>
</html>
