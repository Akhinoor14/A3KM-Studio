<!DOCTYPE html>
<html lang="bn" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="description" content="‡¶á‡¶≤‡ßá‡¶ï‡¶ü‡ßç‡¶∞‡¶®‡¶ø‡¶ï ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü ‡¶ó‡¶æ‡¶á‡¶° - 60+ ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶®‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶Ø‡¶º">
    <title>Electronics Components Library - A3KM Studio</title>
    
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="desktop-navbar.css">
    <link rel="stylesheet" href="mobile-top-nav.css">
    <script src="components-data.js"></script>
    
    <!-- PDF Export Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
    <style>
        :root {
            --primary-red: #FF0000;
            --secondary-red: #CC0000;
            --dark-red: #990000;
            --bg-black: #0a0a0a;
            --bg-card: rgba(26, 0, 0, 0.8);
            --border-red: rgba(204, 0, 0, 0.3);
            --text-white: rgba(255, 255, 255, 0.95);
            --text-dim: rgba(255, 255, 255, 0.7);
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background: var(--bg-black);
            background-image: 
                linear-gradient(rgba(204, 0, 0, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(204, 0, 0, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            color: var(--text-white);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            scroll-behavior: smooth;
        }

        /* Hide mobile nav on desktop */
        .mobile-top-nav {
            display: none;
        }

        /* Back Button */
        .back-btn {
            position: fixed;
            top: 80px;
            left: 20px;
            z-index: 1000;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 12px 24px;
            background: rgba(204, 0, 0, 0.15);
            border: 2px solid var(--border-red);
            border-radius: 12px;
            color: var(--primary-red);
            text-decoration: none;
            font-weight: 700;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .back-btn:hover {
            background: rgba(204, 0, 0, 0.3);
            border-color: var(--primary-red);
            transform: translateX(-5px);
            box-shadow: 0 0 20px rgba(204, 0, 0, 0.4);
        }

        /* Hero Section */
        .library-hero {
            padding: 120px 20px 60px;
            text-align: center;
            background: linear-gradient(180deg, rgba(204, 0, 0, 0.1), transparent);
            border-bottom: 2px solid var(--border-red);
            position: relative;
            overflow: hidden;
        }

        .hero-icon {
            font-size: 4rem;
            color: var(--primary-red);
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
            text-shadow: 0 0 30px rgba(204, 0, 0, 0.6);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .hero-title {
            font-size: 3rem;
            font-weight: 900;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #FF0000, #CC0000);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.2rem;
            color: var(--text-dim);
            margin-bottom: 40px;
        }

        .hero-stats {
            display: flex;
            gap: 30px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 40px;
        }

        .stat-item {
            background: var(--bg-card);
            border: 2px solid var(--border-red);
            border-radius: 12px;
            padding: 15px 30px;
            transition: all 0.3s ease;
        }

        .stat-item:hover {
            border-color: var(--primary-red);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(204, 0, 0, 0.3);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 900;
            color: var(--primary-red);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-dim);
        }

        /* Search Section */
        .search-section {
            max-width: 1200px;
            margin: -20px auto 40px;
            padding: 0 20px;
            position: relative;
            z-index: 10;
        }

        .search-container {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-box {
            flex: 1;
            min-width: 300px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 18px 60px 18px 55px;
            background: var(--bg-card);
            border: 2px solid var(--border-red);
            border-radius: 14px;
            color: var(--text-white);
            font-size: 1.1rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-red);
            box-shadow: 0 0 30px rgba(204, 0, 0, 0.3);
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary-red);
            font-size: 1.3rem;
        }

        .clear-search {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-dim);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s ease;
            display: none;
        }

        .clear-search.active {
            display: block;
        }

        .clear-search:hover {
            color: var(--primary-red);
            transform: translateY(-50%) scale(1.2);
        }

        .language-toggle {
            display: flex;
            background: var(--bg-card);
            border: 2px solid var(--border-red);
            border-radius: 12px;
            overflow: hidden;
        }

        .lang-btn {
            padding: 15px 25px;
            background: none;
            border: none;
            color: var(--text-dim);
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .lang-btn.active {
            background: linear-gradient(135deg, var(--primary-red), var(--secondary-red));
            color: #ffffff;
        }

        .lang-btn:hover:not(.active) {
            background: rgba(204, 0, 0, 0.2);
            color: var(--text-white);
        }

        /* Font Size Control */
        .font-controls {
            display: flex;
            background: var(--bg-card);
            border: 2px solid var(--border-red);
            border-radius: 12px;
            overflow: hidden;
        }

        .font-btn {
            padding: 15px 20px;
            background: none;
            border: none;
            color: var(--text-dim);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .font-btn:hover {
            background: rgba(204, 0, 0, 0.2);
            color: var(--primary-red);
        }

        /* Categories Section */
        .categories-section {
            max-width: 1400px;
            margin: 0 auto 60px;
            padding: 0 20px;
        }

        .section-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #FF0000, #CC0000);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .section-subtitle {
            font-size: 1.1rem;
            color: var(--text-dim);
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .category-card {
            background: linear-gradient(135deg, var(--bg-card), rgba(153, 0, 0, 0.3));
            border: 2px solid var(--border-red);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-red), var(--secondary-red));
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .category-card:hover::before {
            transform: scaleX(1);
        }

        .category-card:hover {
            border-color: var(--primary-red);
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(255, 0, 0, 0.3);
        }

        .category-icon {
            font-size: 3.5rem;
            margin-bottom: 20px;
            display: block;
        }

        .category-name {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--text-white);
            margin-bottom: 10px;
        }

        .category-count {
            font-size: 0.9rem;
            color: var(--text-dim);
        }

        /* Components Grid */
        .components-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .component-card {
            background: var(--bg-card);
            border: 2px solid var(--border-red);
            border-radius: 14px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .component-card:hover {
            border-color: var(--primary-red);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 0, 0, 0.3);
        }

        .component-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
        }

        .component-item {
            background: var(--bg-card);
            border: 2px solid var(--border-red);
            border-radius: 14px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .component-item:hover {
            border-color: var(--primary-red);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 0, 0, 0.3);
        }

        .component-icon-box {
            width: 60px;
            height: 60px;
            background: rgba(204, 0, 0, 0.2);
            border: 2px solid var(--border-red);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            flex-shrink: 0;
        }

        .component-info {
            flex: 1;
        }

        .component-name {
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--text-white);
            margin-bottom: 5px;
        }
        
        .component-name-bn {
            font-size: 1rem;
            color: var(--text-dim);
            margin-top: 5px;
        }
        
        .component-category {
            font-size: 0.75rem;
            color: var(--primary-red);
            margin-top: 10px;
            padding: 5px 10px;
            background: rgba(255, 0, 0, 0.1);
            border-radius: 6px;
            display: inline-block;
        }

        .component-hint {
            font-size: 0.9rem;
            color: var(--text-dim);
        }

        /* Component Modal */
        .component-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            overflow-y: auto;
            padding: 20px;
        }

        .component-modal.active {
            display: flex;
            align-items: flex-start;
            justify-content: center;
        }

        .modal-container {
            background: linear-gradient(135deg, rgba(10, 10, 10, 0.98), rgba(20, 0, 0, 0.95));
            border: 3px solid var(--primary-red);
            border-radius: 20px;
            max-width: 1400px;
            width: 100%;
            margin: 60px auto;
            position: relative;
            box-shadow: 0 0 60px rgba(255, 0, 0, 0.4);
        }

        .modal-header {
            padding: 30px 80px 30px 40px;
            border-bottom: 2px solid var(--border-red);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 2.2rem;
            font-weight: 900;
            color: var(--primary-red);
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 45px;
            height: 45px;
            background: rgba(255, 0, 0, 0.2);
            border: 2px solid rgba(255, 0, 0, 0.5);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #ff3333;
            font-size: 1.5rem;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: rgba(255, 0, 0, 0.4);
            transform: rotate(90deg);
        }

        .modal-content {
            max-height: 70vh;
            overflow-y: auto;
            padding: 40px;
            scroll-behavior: smooth;
        }

        .modal-content::-webkit-scrollbar {
            width: 12px;
        }

        .modal-content::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .modal-content::-webkit-scrollbar-thumb {
            background: var(--primary-red);
            border-radius: 10px;
            border: 2px solid rgba(0, 0, 0, 0.3);
        }

        .modal-content::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-red);
        }

        .content-wrapper {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Markdown Content Styling */
        .markdown-content {
            color: var(--text-white);
            line-height: 1.9;
            font-size: 1.05rem;
            letter-spacing: 0.3px;
            word-spacing: 1px;
        }

        .markdown-content h1 {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--primary-red);
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        .markdown-content h2 {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary-red);
            margin-top: 1.8rem;
            margin-bottom: 0.8rem;
        }

        .markdown-content h3 {
            font-size: 1.6rem;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.95);
            margin-top: 1.5rem;
            margin-bottom: 0.7rem;
        }

        .markdown-content p {
            margin-bottom: 1.5rem;
            font-size: 1.05rem;
            line-height: 1.9;
            text-align: justify;
            text-justify: inter-word;
        }

        .markdown-content ul, .markdown-content ol {
            margin-left: 2rem;
            margin-bottom: 1.5rem;
            padding-left: 0.5rem;
        }

        .markdown-content li {
            margin-bottom: 0.8rem;
            line-height: 1.8;
            padding-left: 0.5rem;
        }

        .markdown-content ul li {
            list-style-type: disc;
        }

        .markdown-content ol li {
            list-style-type: decimal;
        }

        .markdown-content code {
            background: rgba(204, 0, 0, 0.15);
            padding: 3px 8px;
            border-radius: 5px;
            color: var(--primary-red);
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.95em;
        }

        .markdown-content pre {
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid var(--border-red);
            border-radius: 12px;
            padding: 20px;
            overflow-x: auto;
            margin: 1.5rem 0;
        }

        .markdown-content pre code {
            background: none;
            padding: 0;
            color: var(--text-white);
        }

        .markdown-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }

        .markdown-content th,
        .markdown-content td {
            padding: 12px;
            border: 1px solid var(--border-red);
            text-align: left;
        }

        .markdown-content th {
            background: rgba(204, 0, 0, 0.2);
            font-weight: 800;
            color: var(--primary-red);
        }

        .markdown-content blockquote {
            border-left: 4px solid var(--primary-red);
            padding-left: 20px;
            margin: 1.5rem 0;
            font-style: italic;
            color: var(--text-dim);
        }

        .markdown-content img {
            max-width: 100%;
            height: auto;
            border-radius: 12px;
            margin: 1.5rem 0;
            border: 2px solid var(--border-red);
        }

        .markdown-content hr {
            border: none;
            border-top: 2px solid var(--border-red);
            margin: 2rem 0;
        }

        .markdown-content a {
            color: var(--primary-red);
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: all 0.3s ease;
        }

        .markdown-content a:hover {
            border-bottom-color: var(--primary-red);
        }

        .markdown-content strong {
            color: rgba(255, 255, 255, 0.98);
            font-weight: 700;
        }

        .markdown-content em {
            color: rgba(255, 255, 255, 0.95);
            font-style: italic;
        }

        /* Error Message Styling */
        .markdown-content .error-message {
            background: rgba(204, 0, 0, 0.1);
            border: 2px solid var(--primary-red);
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            margin: 20px 0;
        }

        .markdown-content .error-message h3 {
            color: var(--primary-red);
            margin-top: 0;
        }

        .markdown-content .error-message code {
            background: rgba(0, 0, 0, 0.3);
            color: var(--text-white);
        }

        /* Modal Footer Navigation */
        .modal-footer {
            padding: 20px 40px;
            border-top: 2px solid var(--border-red);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-btn {
            padding: 12px 24px;
            background: rgba(204, 0, 0, 0.2);
            border: 2px solid var(--border-red);
            border-radius: 10px;
            color: var(--text-white);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover:not(:disabled) {
            background: linear-gradient(135deg, var(--primary-red), var(--secondary-red));
            border-color: var(--primary-red);
            transform: scale(1.05);
        }

        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .mobile-top-nav {
                display: flex !important;
            }

            .navbar {
                display: none !important;
            }

            .back-btn {
                top: 70px;
                left: 10px;
                padding: 10px 16px;
                font-size: 0.9rem;
            }

            .hero-title {
                font-size: 2rem;
            }

            .hero-subtitle {
                font-size: 1rem;
            }

            .search-container {
                flex-direction: column;
            }

            .search-box {
                width: 100%;
                min-width: auto;
            }

            .categories-grid {
                grid-template-columns: 1fr;
            }

            .components-grid {
                grid-template-columns: 1fr;
            }

            .modal-container {
                margin: 20px 10px;
            }

            .modal-header {
                padding: 20px 60px 20px 20px;
            }

            .modal-title {
                font-size: 1.5rem;
            }

            .modal-content {
                padding: 20px;
            }

            .modal-footer {
                flex-direction: column;
                gap: 10px;
            }

            .nav-btn {
                width: 100%;
            }
        }

        /* Loading Animation */
        .loading {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-dim);
        }

        .loading i {
            font-size: 3rem;
            color: var(--primary-red);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* No Results */
        .no-results {
            text-align: center;
            padding: 80px 20px;
            display: none;
        }
        
        .no-results.show {
            display: block;
        }

        .no-results.show {
            display: block;
        }

        .no-results i {
            font-size: 4rem;
            color: var(--primary-red);
            opacity: 0.5;
            margin-bottom: 20px;
        }

        .no-results h3 {
            font-size: 1.8rem;
            color: var(--text-white);
            margin-bottom: 10px;
        }

        .no-results p {
            color: var(--text-dim);
            font-size: 1.1rem;
        }

        /* Breadcrumb Navigation */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
            font-size: 0.9rem;
            color: var(--text-dim);
        }

        .breadcrumb a {
            color: var(--primary-red);
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .breadcrumb a:hover {
            color: var(--text-white);
        }

        .breadcrumb-separator {
            color: var(--text-dim);
        }

        /* Component Thumbnail */
        .component-thumbnail {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 15px;
            border: 2px solid var(--border-red);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .component-card:hover .component-thumbnail {
            transform: scale(1.05);
            border-color: var(--primary-red);
        }

        /* Bookmark Button */
        .bookmark-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 40px;
            height: 40px;
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid var(--border-red);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-dim);
            font-size: 1.2rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            z-index: 10;
        }

        .bookmark-btn:hover {
            background: rgba(204, 0, 0, 0.3);
            border-color: var(--primary-red);
            color: var(--primary-red);
            transform: scale(1.1);
        }

        .bookmark-btn.bookmarked {
            background: rgba(204, 0, 0, 0.3);
            color: var(--primary-red);
            border-color: var(--primary-red);
        }

        /* PDF Export & Share Buttons */
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 10px 20px;
            background: rgba(204, 0, 0, 0.2);
            border: 2px solid var(--border-red);
            border-radius: 8px;
            color: var(--text-white);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .action-btn:hover {
            background: rgba(204, 0, 0, 0.4);
            border-color: var(--primary-red);
        }

        /* Related Components */
        .related-components {
            margin-top: 40px;
            padding-top: 40px;
            border-top: 2px solid var(--border-red);
        }

        .related-components h3 {
            font-size: 1.8rem;
            color: var(--primary-red);
            margin-bottom: 20px;
        }

        .related-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .related-card {
            background: rgba(26, 0, 0, 0.5);
            border: 2px solid var(--border-red);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .related-card:hover {
            border-color: var(--primary-red);
            transform: translateY(-5px);
        }

        .related-card img {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .related-card-name {
            font-size: 0.9rem;
            color: var(--text-white);
            font-weight: 600;
        }

        /* Image Zoom Modal */
        .image-zoom-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            z-index: 11000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .image-zoom-modal.active {
            display: flex;
        }

        .image-zoom-modal img {
            max-width: 90%;
            max-height: 90vh;
            border-radius: 12px;
            border: 3px solid var(--primary-red);
        }

        .image-zoom-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            background: rgba(255, 0, 0, 0.3);
            border: 2px solid var(--primary-red);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--text-white);
            font-size: 1.5rem;
        }

        /* Copy Code Button */
        .code-block-wrapper {
            position: relative;
        }

        .copy-code-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 6px 12px;
            background: rgba(204, 0, 0, 0.3);
            border: 1px solid var(--primary-red);
            border-radius: 6px;
            color: var(--text-white);
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .copy-code-btn:hover {
            background: rgba(204, 0, 0, 0.5);
        }

        .copy-code-btn.copied {
            background: rgba(0, 204, 0, 0.3);
            border-color: #00CC00;
        }

        .copy-code-btn.copied::after {
            content: ' ‚úì';
        }

        /* Tab Navigation Styling */
        .tab-navigation-section {
            background: var(--bg-card);
            border-bottom: 2px solid var(--border-red);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 99;
            backdrop-filter: blur(10px);
        }

        .tab-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 15px;
            padding: 0 20px;
            justify-content: center;
        }

        .main-tab-btn {
            flex: 1;
            max-width: 400px;
            padding: 18px 30px;
            background: rgba(204, 0, 0, 0.1);
            border: 2px solid var(--border-red);
            border-radius: 12px;
            color: var(--text-dim);
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .main-tab-btn:hover {
            background: rgba(204, 0, 0, 0.2);
            border-color: var(--primary-red);
            transform: translateY(-2px);
        }

        .main-tab-btn.active {
            background: linear-gradient(135deg, var(--primary-red), var(--secondary-red));
            border-color: var(--primary-red);
            color: #ffffff;
            box-shadow: 0 4px 20px rgba(204, 0, 0, 0.4);
        }

        .main-tab-btn i {
            font-size: 1.3rem;
        }

        .tab-main-content {
            display: none;
        }

        .tab-main-content.active {
            display: block;
        }

        /* Documentation Viewer Styling */
        .documentation-viewer-section {
            padding: 40px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .doc-container {
            background: var(--bg-card);
            border: 2px solid var(--border-red);
            border-radius: 16px;
            overflow: hidden;
        }

        .doc-header-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            background: rgba(204, 0, 0, 0.05);
            border-bottom: 2px solid var(--border-red);
            flex-wrap: wrap;
            gap: 15px;
        }

        .doc-language-selector {
            display: flex;
            gap: 10px;
        }

        .doc-lang-btn {
            padding: 12px 24px;
            background: rgba(204, 0, 0, 0.1);
            border: 2px solid var(--border-red);
            border-radius: 10px;
            color: var(--text-dim);
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .doc-lang-btn:hover {
            background: rgba(204, 0, 0, 0.2);
            border-color: var(--primary-red);
        }

        .doc-lang-btn.active {
            background: linear-gradient(135deg, var(--primary-red), var(--secondary-red));
            border-color: var(--primary-red);
            color: #ffffff;
        }

        .doc-action-btn {
            padding: 12px 24px;
            background: rgba(204, 0, 0, 0.2);
            border: 2px solid var(--border-red);
            border-radius: 10px;
            color: var(--text-white);
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .doc-action-btn:hover {
            background: rgba(204, 0, 0, 0.3);
            border-color: var(--primary-red);
            transform: scale(1.05);
        }

        .documentation-content {
            padding: 40px;
            line-height: 1.8;
            color: var(--text-dim);
            min-height: 600px;
            max-height: 75vh;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .documentation-content::-webkit-scrollbar {
            width: 8px;
        }

        .documentation-content::-webkit-scrollbar-track {
            background: rgba(204, 0, 0, 0.1);
            border-radius: 4px;
        }

        .documentation-content::-webkit-scrollbar-thumb {
            background: var(--primary-red);
            border-radius: 4px;
        }

        .documentation-content::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-red);
        }

        .documentation-content h1 {
            color: var(--primary-red);
            font-size: 2.5rem;
            margin-bottom: 24px;
            margin-top: 10px;
            border-bottom: 3px solid var(--border-red);
            padding-bottom: 18px;
            line-height: 1.3;
        }

        .documentation-content h2 {
            color: var(--primary-red);
            font-size: 2rem;
            margin-top: 48px;
            margin-bottom: 20px;
            line-height: 1.4;
            scroll-margin-top: 100px;
        }

        .documentation-content h3 {
            color: var(--text-white);
            font-size: 1.5rem;
            margin-top: 32px;
            margin-bottom: 16px;
            line-height: 1.4;
        }

        .documentation-content p {
            margin-bottom: 18px;
            font-size: 1.05rem;
            text-align: justify;
        }

        .documentation-content ul,
        .documentation-content ol {
            margin-left: 35px;
            margin-bottom: 18px;
        }

        .documentation-content li {
            margin-bottom: 10px;
            line-height: 1.7;
        }

        .documentation-content ul li::marker {
            color: var(--primary-red);
        }

        .documentation-content ol li::marker {
            color: var(--primary-red);
            font-weight: 700;
        }

        .documentation-content blockquote {
            border-left: 4px solid var(--primary-red);
            background: rgba(204, 0, 0, 0.15);
            padding: 20px 25px;
            margin: 24px 0;
            border-radius: 0 12px 12px 0;
            font-style: italic;
            color: var(--text-white);
            box-shadow: 0 2px 10px rgba(204, 0, 0, 0.2);
        }

        .documentation-content blockquote p:last-child {
            margin-bottom: 0;
        }

        .documentation-content code {
            background: rgba(255, 152, 0, 0.25);
            padding: 4px 10px;
            border-radius: 6px;
            font-family: 'Courier New', 'Fira Code', monospace;
            color: #FF9800;
            font-size: 0.95rem;
            border: 1px solid rgba(255, 152, 0, 0.3);
        }

        .documentation-content pre {
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid var(--border-red);
            border-radius: 12px;
            padding: 24px;
            overflow-x: auto;
            margin: 24px 0;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .documentation-content pre code {
            background: none;
            padding: 0;
            color: var(--text-white);
            border: none;
            font-size: 0.95rem;
        }

        /* Table Support in Documentation - Enhanced */
        .documentation-content .table-wrapper {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            margin: 24px 0;
            border-radius: 12px;
            border: 2px solid var(--border-red);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .documentation-content .table-wrapper::after {
            content: '‚Üí Scroll for more';
            position: absolute;
            right: 15px;
            top: 15px;
            background: rgba(204, 0, 0, 0.9);
            color: #fff;
            padding: 6px 14px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 700;
            opacity: 0.85;
            pointer-events: none;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }

        .documentation-content .table-wrapper::-webkit-scrollbar {
            height: 8px;
        }

        .documentation-content .table-wrapper::-webkit-scrollbar-track {
            background: rgba(204, 0, 0, 0.1);
        }

        .documentation-content .table-wrapper::-webkit-scrollbar-thumb {
            background: var(--primary-red);
            border-radius: 4px;
        }

        .documentation-content table {
            width: 100%;
            border-collapse: collapse;
            font-size: 1rem;
            background: rgba(0, 0, 0, 0.4);
            min-width: 700px;
        }

        .documentation-content th {
            background: linear-gradient(135deg, var(--primary-red), var(--secondary-red));
            color: #fff;
            padding: 16px 20px;
            text-align: left;
            font-weight: 700;
            border-bottom: 3px solid var(--primary-red);
            font-size: 1.05rem;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .documentation-content td {
            padding: 14px 20px;
            border-bottom: 1px solid var(--border-red);
            color: var(--text-dim);
            font-size: 0.95rem;
        }

        .documentation-content tr:last-child td {
            border-bottom: none;
        }

        .documentation-content tr:hover td {
            background: rgba(204, 0, 0, 0.15);
            color: var(--text-white);
        }

        .documentation-content tbody tr:nth-child(even) {
            background: rgba(255, 255, 255, 0.03);
        }

        .documentation-content a {
            color: #FF9800;
            text-decoration: none;
            border-bottom: 1px solid #FF9800;
            transition: all 0.3s ease;
        }

        .documentation-content a:hover {
            color: var(--primary-red);
            border-bottom-color: var(--primary-red);
        }

        .documentation-content strong {
            color: var(--text-white);
            font-weight: 700;
        }

        .documentation-content em {
            color: rgba(255, 255, 255, 0.9);
        }

        /* Responsive for tabs */
        @media (max-width: 768px) {
            .tab-container {
                flex-direction: column;
            }

            .main-tab-btn {
                max-width: 100%;
            }

            .documentation-content {
                padding: 20px;
            }

            .doc-header-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .doc-language-selector {
                width: 100%;
            }

            .doc-lang-btn {
                flex: 1;
            }

            .doc-action-btn {
                width: 100%;
                justify-content: center;
            }

            .documentation-content {
                padding: 20px;
                font-size: 0.95rem;
                max-height: none;
            }

            .documentation-content h1 {
                font-size: 1.8rem;
            }

            .documentation-content h2 {
                font-size: 1.5rem;
                margin-top: 32px;
            }

            .documentation-content h3 {
                font-size: 1.25rem;
            }

            .documentation-content table {
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <!-- Mobile Top Navigation -->
    <nav class="mobile-top-nav">
        <a href="home-mobile.html" class="nav-icon" title="Home">
            <i class="fas fa-home"></i>
        </a>
        <a href="about-mobile.html" class="nav-icon" title="About">
            <i class="fas fa-user"></i>
        </a>
        <a href="projects-mobile.html" class="nav-icon active" title="Projects">
            <i class="fas fa-folder-open"></i>
        </a>
        <a href="blog-mobile.html" class="nav-icon" title="Blog">
            <i class="fas fa-blog"></i>
        </a>
        <a href="contact-mobile.html" class="nav-icon" title="Contact">
            <i class="fas fa-envelope"></i>
        </a>
        <a href="only-boss.html" class="nav-icon nav-boss" title="Only Boss">
            <i class="fas fa-crown"></i>
        </a>
    </nav>

    <!-- Desktop Navigation -->
    <nav class="desktop-navbar" id="desktopNavbar">
        <div class="desktop-nav-container">
            <a href="index.html" class="desktop-nav-logo" title="A3KM Studio - Home">
                <img src="images/logo.svg" alt="A3KM Studio Logo" class="desktop-nav-logo-img" width="55" height="55">
                <div class="desktop-nav-brand">
                    <span class="desktop-nav-brand-name">A3KM Studio</span>
                    <span class="desktop-nav-brand-tagline">Engineering ¬∑ Innovation</span>
                </div>
            </a>
            <ul class="desktop-nav-menu">
                <li class="desktop-nav-item">
                    <a href="about.html" class="desktop-nav-link" id="nav-about">
                        <i class="fas fa-user-circle"></i>
                        <span>About</span>
                    </a>
                </li>
                <li class="desktop-nav-item">
                    <a href="projects.html" class="desktop-nav-link active" id="nav-projects">
                        <i class="fas fa-folder-open"></i>
                        <span>Projects</span>
                    </a>
                </li>
                <li class="desktop-nav-item">
                    <a href="blog.html" class="desktop-nav-link" id="nav-blog">
                        <i class="fas fa-pen-fancy"></i>
                        <span>Blog</span>
                    </a>
                </li>
                <li class="desktop-nav-item">
                    <a href="contact.html" class="desktop-nav-link" id="nav-contact">
                        <i class="fas fa-envelope"></i>
                        <span>Contact</span>
                    </a>
                </li>
                <li class="desktop-nav-item">
                    <a href="./CV/2313014 CV.pdf" class="desktop-nav-link desktop-nav-cv-btn" download="Md_Akhinoor_Islam_CV.pdf" title="Download CV">
                        <i class="fas fa-download"></i>
                        <span>CV</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Back Button -->
    <a href="#" onclick="if(window.innerWidth <= 768) { window.location.href='projects-mobile.html#component-database'; } else { window.location.href='projects.html#components'; } return false;" class="back-btn">
        <i class="fas fa-arrow-left"></i>
        <span>Back to Projects</span>
    </a>

    <!-- Breadcrumb Navigation -->
    <nav class="breadcrumb" id="breadcrumb">
        <a href="index.html"><i class="fas fa-home"></i> Home</a>
        <span class="breadcrumb-separator">‚Ä∫</span>
        <a href="projects.html#components">Projects</a>
        <span class="breadcrumb-separator">‚Ä∫</span>
        <span>Components Library</span>
    </nav>

    <!-- Hero Section -->
    <section class="library-hero">
        <div class="hero-icon">
            <i class="fas fa-microchip"></i>
        </div>
        <h1 class="hero-title">Electronics Components Library</h1>
        <p class="hero-subtitle">Complete guide to 60+ components in Bangla & English</p>
        
        <div class="hero-stats">
            <div class="stat-item">
                <div class="stat-number">60+</div>
                <div class="stat-label">Components</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">7</div>
                <div class="stat-label">Categories</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">üáßüá©</div>
                <div class="stat-label">Bangla Priority</div>
            </div>
        </div>
    </section>

    <!-- Tab Navigation -->
    <section class="tab-navigation-section">
        <div class="tab-container">
            <button class="main-tab-btn active" onclick="switchMainTab('components')">
                <i class="fas fa-th-large"></i>
                <span>Component Library</span>
            </button>
            <button class="main-tab-btn" onclick="switchMainTab('documentation')">
                <i class="fas fa-book-open"></i>
                <span>Full Documentation</span>
            </button>
        </div>
    </section>

    <!-- Tab Content: Components Library -->
    <div class="tab-main-content active" id="componentsTab">
        <!-- Search Section -->
        <section class="search-section">
            <div class="search-container">
                <div class="search-box">
                    <i class="fas fa-search search-icon"></i>
                    <input 
                        type="text" 
                        class="search-input" 
                        id="searchInput"
                        placeholder="Search components... (Multimeter, ‡¶Æ‡¶æ‡¶≤‡ßç‡¶ü‡¶ø‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞, LED...)"
                    >
                    <button class="clear-search" id="clearSearch">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="language-toggle">
                    <button class="lang-btn active" data-lang="bn" onclick="switchLanguage('bn')">
                        <span>üáßüá©</span>
                        <span>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</span>
                    </button>
                    <button class="lang-btn" data-lang="en" onclick="switchLanguage('en')">
                        <span>üá¨üáß</span>
                        <span>English</span>
                    </button>
                </div>

                <div class="font-controls">
                    <button class="font-btn" onclick="adjustFontSize('decrease')">A‚Åª</button>
                    <button class="font-btn" onclick="adjustFontSize('reset')">A</button>
                    <button class="font-btn" onclick="adjustFontSize('increase')">A‚Å∫</button>
                </div>
            </div>
        </section>

        <!-- Categories Section -->
        <section class="categories-section">
            <div class="section-header">
                <h2 class="section-title">Browse by Category</h2>
                <p class="section-subtitle">Find your required components quickly</p>
            </div>

            <div class="categories-grid" id="categoriesGrid">
                <div class="loading">
                    <i class="fas fa-circle-notch"></i>
                    <p>Loading...</p>
                </div>
            </div>

            <!-- Components Grid (shown when category selected) -->
            <div id="componentsContainer" style="display: none;">
            <div class="section-header">
                <h2 class="section-title" id="categoryTitle"></h2>
            </div>
            <div class="components-grid" id="componentsGrid"></div>
        </div>

        <!-- No Results -->
        <div class="no-results" id="noResults">
            <i class="fas fa-search"></i>
            <h3>No Results Found</h3>
            <p>Try searching with different keywords</p>
        </div>
    </section>
    </div>

    <!-- Tab Content: Full Documentation -->
    <div class="tab-main-content" id="documentationTab">
        <section class="documentation-viewer-section">
            <div class="doc-container">
                <div class="doc-header-controls">
                    <div class="doc-language-selector">
                        <button class="doc-lang-btn active" onclick="loadFullDocumentation('bn')">
                            <i class="fas fa-language"></i>
                            <span>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</span>
                        </button>
                        <button class="doc-lang-btn" onclick="loadFullDocumentation('en')">
                            <i class="fas fa-globe"></i>
                            <span>English</span>
                        </button>
                    </div>
                    <button class="doc-action-btn" onclick="exportDocumentationPDF()">
                        <i class="fas fa-file-pdf"></i>
                        <span>Export PDF</span>
                    </button>
                </div>
                
                <div class="documentation-content" id="documentationContent">
                    <div class="loading">
                        <i class="fas fa-circle-notch"></i>
                        <p>Loading documentation...</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Component Detail Modal -->
    <div class="component-modal" id="componentModal">
        <div class="modal-container">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle"></h2>
                <button class="bookmark-btn" id="bookmarkBtn" onclick="toggleBookmark()" title="Bookmark this component">
                    <i class="far fa-bookmark"></i>
                </button>
                <button class="modal-close" onclick="closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal-content">
                <div class="content-wrapper">
                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button class="action-btn" onclick="exportToPDF()">
                            <i class="fas fa-file-pdf"></i>
                            <span>Export PDF</span>
                        </button>
                        <button class="action-btn" onclick="shareComponent()">
                            <i class="fas fa-share-alt"></i>
                            <span>Share</span>
                        </button>
                        <button class="action-btn" onclick="copyShareLink()">
                            <i class="fas fa-link"></i>
                            <span>Copy Link</span>
                        </button>
                    </div>

                    <!-- Component Content -->
                    <div class="markdown-content" id="modalContent"></div>

                    <!-- Related Components -->
                    <div class="related-components" id="relatedComponents">
                        <h3>Related Components</h3>
                        <div class="related-grid" id="relatedGrid"></div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="nav-btn" id="prevBtn" onclick="navigateComponent(-1)">
                    <i class="fas fa-arrow-left"></i> Previous
                </button>
                <button class="nav-btn" id="nextBtn" onclick="navigateComponent(1)">
                    Next <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Image Zoom Modal -->
    <div class="image-zoom-modal" id="imageZoomModal">
        <button class="image-zoom-close" onclick="closeImageZoom()">
            <i class="fas fa-times"></i>
        </button>
        <img id="zoomedImage" src="" alt="Zoomed image">
    </div>

    <script>
        // Component data will be loaded from ComponentsLibrary
        let currentLang = 'bn';
        let currentComponent = null;
        let currentCategory = null;
        let allComponentIds = [];
        let fontSize = 100; // Base font size percentage

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderCategories();
            setupSearch();
            setupKeyboardShortcuts();
        });

        // Render categories
        function renderCategories() {
            const grid = document.getElementById('categoriesGrid');
            grid.innerHTML = '';

            ComponentsLibrary.categories.forEach(category => {
                const card = document.createElement('div');
                card.className = 'category-card';
                card.onclick = () => showCategory(category.id);
                card.innerHTML = `
                    <div class="category-icon">${category.icon}</div>
                    <div class="category-name">${category.name.en}</div>
                    <div class="category-count">${category.components.length} Components</div>
                `;
                grid.appendChild(card);
            });
        }

        // Show category components
        function showCategory(categoryId) {
            currentCategory = categoryId;
            const category = ComponentsLibrary.getCategoryById(categoryId);
            
            document.getElementById('categoryTitle').textContent = category.name.en;
            document.getElementById('componentsContainer').style.display = 'block';
            
            // Scroll to components section
            document.getElementById('componentsContainer').scrollIntoView({ behavior: 'smooth' });
            
            // Load category components
            loadCategoryComponents(categoryId);
        }

        // Load category components
        function loadCategoryComponents(categoryId) {
            const grid = document.getElementById('componentsGrid');
            grid.innerHTML = '<div class="loading"><i class="fas fa-circle-notch"></i><p>Loading components...</p></div>';
            
            // Get components for this category
            const components = ComponentsLibrary.getComponentsByCategory(categoryId);
            
            setTimeout(() => {
                if (components.length === 0) {
                    grid.innerHTML = '<p style="text-align:center;color:var(--text-dim);padding:40px;">No components found</p>';
                    return;
                }
                
                grid.innerHTML = components.map(comp => `
                    <div class="component-card" onclick="openComponent('${comp.id}')">
                        ${comp.thumbnail ? `<img src="${comp.thumbnail}" alt="${comp.name.en}" class="component-thumbnail" onerror="this.style.display='none'" onclick="event.stopPropagation(); zoomImage('${comp.thumbnail}')">` : ''}
                        <div class="component-icon">${comp.icon}</div>
                        <div class="component-name">${comp.name.en}</div>
                        <div class="component-name-bn">${comp.name.bn}</div>
                        <button class="bookmark-btn ${ComponentsLibrary.isBookmarked(comp.id) ? 'bookmarked' : ''}" onclick="event.stopPropagation(); toggleComponentBookmark('${comp.id}', this)">
                            <i class="fa${ComponentsLibrary.isBookmarked(comp.id) ? 's' : 'r'} fa-bookmark"></i>
                        </button>
                    </div>
                `).join('');
            }, 300);
        }

        // Switch language
        function switchLanguage(lang) {
            currentLang = lang;
            
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });
            
            renderCategories();
            
            if (currentCategory) {
                loadCategoryComponents(currentCategory);
            }
        }

        // Adjust font size
        function adjustFontSize(action) {
            if (action === 'increase' && fontSize < 150) {
                fontSize += 10;
            } else if (action === 'decrease' && fontSize > 80) {
                fontSize -= 10;
            } else if (action === 'reset') {
                fontSize = 100;
            }
            
            document.querySelector('.markdown-content').style.fontSize = fontSize + '%';
        }

        // Setup search
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            const clearBtn = document.getElementById('clearSearch');
            let searchTimeout;
            
            searchInput.addEventListener('input', function() {
                const query = this.value.trim();
                clearBtn.classList.toggle('active', query.length > 0);
                
                // Debounce search
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    performSearch(query);
                }, 300);
            });
            
            clearBtn.addEventListener('click', function() {
                searchInput.value = '';
                clearBtn.classList.remove('active');
                performSearch('');
            });
        }

        // Perform search
        function performSearch(query) {
            if (!query) {
                document.getElementById('componentsContainer').style.display = 'none';
                document.getElementById('noResults').classList.remove('show');
                return;
            }
            
            // Search components
            const results = ComponentsLibrary.searchComponents(query);
            displaySearchResults(results);
        }
        
        // Display search results
        function displaySearchResults(results) {
            const grid = document.getElementById('componentsGrid');
            const container = document.getElementById('componentsContainer');
            const noResults = document.getElementById('noResults');
            const title = document.getElementById('categoryTitle');
            
            container.style.display = 'block';
            title.textContent = `Search Results (${results.length})`;
            
            if (results.length === 0) {
                grid.innerHTML = '';
                noResults.classList.add('show');
                return;
            }
            
            noResults.classList.remove('show');
            grid.innerHTML = results.map(comp => `
                <div class="component-card" onclick="openComponent('${comp.id}')">
                    ${comp.thumbnail ? `<img src="${comp.thumbnail}" alt="${comp.name.en}" class="component-thumbnail" onerror="this.style.display='none'" onclick="event.stopPropagation(); zoomImage('${comp.thumbnail}')">` : ''}
                    <div class="component-icon">${comp.icon}</div>
                    <div class="component-name">${comp.name.en}</div>
                    <div class="component-name-bn">${comp.name.bn}</div>
                    <div class="component-category">${comp.categoryName.en}</div>
                    <button class="bookmark-btn ${ComponentsLibrary.isBookmarked(comp.id) ? 'bookmarked' : ''}" onclick="event.stopPropagation(); toggleComponentBookmark('${comp.id}', this)">
                        <i class="fa${ComponentsLibrary.isBookmarked(comp.id) ? 's' : 'r'} fa-bookmark"></i>
                    </button>
                </div>
            `).join('');
            
            // Scroll to results
            container.scrollIntoView({ behavior: 'smooth' });
        }

        // Open component modal
        async function openComponent(componentId) {
            currentComponent = componentId;
            const component = ComponentsLibrary.getComponentById(componentId);
            
            if (!component) {
                console.error('Component not found:', componentId);
                return;
            }

            // Update all component IDs in category for navigation
            const categoryComponents = ComponentsLibrary.getComponentsByCategory(component.categoryId);
            allComponentIds = categoryComponents.map(c => c.id);
            
            // Update breadcrumb
            updateBreadcrumb(component);

            // Update bookmark button
            updateBookmarkButton(componentId);
            
            // Update URL with component ID for shareability
            window.history.pushState({componentId}, '', `?component=${componentId}`);
            
            document.getElementById('componentModal').classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Load component content
            await loadComponentContent(componentId);
            
            // Load related components
            loadRelatedComponents(componentId);
        }

        // Close modal
        function closeModal() {
            document.getElementById('componentModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Load component content (Bangla priority, English optional)
        async function loadComponentContent(componentId) {
            const modal = document.getElementById('modalContent');
            const title = document.getElementById('modalTitle');
            
            modal.innerHTML = '<div class="loading"><i class="fas fa-circle-notch"></i><p>Loading...</p></div>';
            
            try {
                // Load content using ComponentsLibrary
                const data = await ComponentsLibrary.loadComponentContent(componentId, currentLang);
                const htmlContent = ComponentsLibrary.parseMarkdown(data.content);
                
                title.textContent = data.title;
                modal.innerHTML = htmlContent;
                modal.scrollTop = 0;
                
                // Add image zoom functionality
                addImageZoomListeners();
                
                // Add copy buttons to code blocks
                addCopyButtonsToCode();
            } catch (error) {
                console.error('Error loading content:', error);
                title.textContent = 'Error';
                modal.innerHTML = `
                    <div style="text-align:center;padding:40px;color:var(--text-dim);">
                        <i class="fas fa-exclamation-triangle" style="font-size:3rem;color:var(--primary-red);margin-bottom:20px;"></i>
                        <h3>Error Loading Content</h3>
                        <p>${error.message}</p>
                        <p style="margin-top:20px;font-size:0.9rem;">
                            Make sure the markdown files are in the correct directory:<br>
                            <code>Electronic Components Guide/Electronic component BANGLA.md</code><br>
                            <code>Electronic Components Guide/Electronic componet English.md</code>
                        </p>
                    </div>
                `;
            }
        }

        // Navigate between components
        function navigateComponent(direction) {
            if (allComponentIds.length === 0) return;
            
            const currentIndex = allComponentIds.indexOf(currentComponent);
            let newIndex = currentIndex + direction;
            
            // Wrap around
            if (newIndex < 0) newIndex = allComponentIds.length - 1;
            if (newIndex >= allComponentIds.length) newIndex = 0;
            
            const newComponentId = allComponentIds[newIndex];
            currentComponent = newComponentId;
            
            // Update breadcrumb and bookmark
            const component = ComponentsLibrary.getComponentById(newComponentId);
            updateBreadcrumb(component);
            updateBookmarkButton(newComponentId);
            
            // Update URL
            window.history.pushState({componentId: newComponentId}, '', `?component=${newComponentId}`);
            
            loadComponentContent(newComponentId);
            loadRelatedComponents(newComponentId);
        }

        // Update breadcrumb navigation
        function updateBreadcrumb(component) {
            const category = ComponentsLibrary.getCategoryById(component.categoryId);
            document.getElementById('breadcrumb').innerHTML = `
                <a href="index.html"><i class="fas fa-home"></i> Home</a>
                <span class="breadcrumb-separator">‚Ä∫</span>
                <a href="projects.html">Projects</a>
                <span class="breadcrumb-separator">‚Ä∫</span>
                <a href="#" onclick="closeModal(); return false;">Components Library</a>
                <span class="breadcrumb-separator">‚Ä∫</span>
                <a href="#" onclick="closeModal(); showCategory('${component.categoryId}'); return false;">${category.name.en}</a>
                <span class="breadcrumb-separator">‚Ä∫</span>
                <span>${component.name.en}</span>
            `;
        }

        // Bookmark toggle in modal
        function toggleBookmark() {
            const btn = document.getElementById('bookmarkBtn');
            const icon = btn.querySelector('i');
            
            if (ComponentsLibrary.isBookmarked(currentComponent)) {
                ComponentsLibrary.removeBookmark(currentComponent);
                icon.className = 'far fa-bookmark';
                btn.classList.remove('bookmarked');
            } else {
                ComponentsLibrary.addBookmark(currentComponent);
                icon.className = 'fas fa-bookmark';
                btn.classList.add('bookmarked');
            }
        }

        // Update bookmark button state
        function updateBookmarkButton(componentId) {
            const btn = document.getElementById('bookmarkBtn');
            const icon = btn.querySelector('i');
            
            if (ComponentsLibrary.isBookmarked(componentId)) {
                icon.className = 'fas fa-bookmark';
                btn.classList.add('bookmarked');
            } else {
                icon.className = 'far fa-bookmark';
                btn.classList.remove('bookmarked');
            }
        }

        // Toggle bookmark from component card
        function toggleComponentBookmark(componentId, button) {
            const icon = button.querySelector('i');
            
            if (ComponentsLibrary.isBookmarked(componentId)) {
                ComponentsLibrary.removeBookmark(componentId);
                icon.className = 'far fa-bookmark';
                button.classList.remove('bookmarked');
            } else {
                ComponentsLibrary.addBookmark(componentId);
                icon.className = 'fas fa-bookmark';
                button.classList.add('bookmarked');
            }
        }

        // Load related components
        function loadRelatedComponents(componentId) {
            const related = ComponentsLibrary.getRelatedComponents(componentId, 4);
            const grid = document.getElementById('relatedGrid');
            
            if (related.length === 0) {
                document.getElementById('relatedComponents').style.display = 'none';
                return;
            }
            
            document.getElementById('relatedComponents').style.display = 'block';
            grid.innerHTML = related.map(comp => `
                <div class="related-card" onclick="openComponent('${comp.id}')">
                    ${comp.thumbnail ? `<img src="${comp.thumbnail}" alt="${comp.name.en}" onerror="this.style.display='none'">` : `<div style="height:120px;display:flex;align-items:center;justify-content:center;font-size:3rem;">${comp.icon}</div>`}
                    <div class="related-card-name">${comp.name.en}</div>
                </div>
            `).join('');
        }

        // Export to PDF
        async function exportToPDF() {
            const component = ComponentsLibrary.getComponentById(currentComponent);
            
            // Show loading state
            const originalBtn = event.target.closest('.action-btn');
            const originalHTML = originalBtn.innerHTML;
            originalBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> <span>Generating PDF...</span>';
            originalBtn.disabled = true;
            
            try {
                // Get the content to export
                const contentElement = document.getElementById('modalContent');
                const titleElement = document.getElementById('modalTitle');
                
                // Create a temporary container with proper styling for PDF
                const pdfContainer = document.createElement('div');
                pdfContainer.style.cssText = `
                    background: white;
                    color: #000;
                    padding: 40px;
                    font-family: 'Segoe UI', Arial, sans-serif;
                    line-height: 1.8;
                `;
                
                // Add title
                const title = document.createElement('h1');
                title.textContent = component.name.en + ' / ' + component.name.bn;
                title.style.cssText = 'color: #CC0000; margin-bottom: 20px; border-bottom: 3px solid #CC0000; padding-bottom: 15px;';
                pdfContainer.appendChild(title);
                
                // Add metadata
                const metadata = document.createElement('div');
                metadata.style.cssText = 'margin-bottom: 30px; font-size: 0.9em; color: #666;';
                const category = ComponentsLibrary.getCategoryById(component.categoryId);
                metadata.innerHTML = `
                    <p><strong>Category:</strong> ${category.name.en}</p>
                    <p><strong>Language:</strong> ${currentLang === 'bn' ? '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bangla)' : 'English'}</p>
                    <p><strong>Generated:</strong> ${new Date().toLocaleDateString()}</p>
                    <p><strong>Source:</strong> A3KM Studio - Electronics Components Library</p>
                `;
                pdfContainer.appendChild(metadata);
                
                // Clone content and fix styling for PDF
                const contentClone = contentElement.cloneNode(true);
                
                // Remove action buttons and related components from PDF
                const actionsDiv = contentClone.querySelector('.action-buttons');
                if (actionsDiv) actionsDiv.remove();
                const relatedDiv = contentClone.querySelector('.related-components');
                if (relatedDiv) relatedDiv.remove();
                
                // Fix styles for PDF (convert dark theme to light theme)
                contentClone.querySelectorAll('*').forEach(el => {
                    el.style.color = '#000';
                    el.style.backgroundColor = 'transparent';
                });
                
                // Style headings
                contentClone.querySelectorAll('h1, h2, h3, h4, h5, h6').forEach(h => {
                    h.style.color = '#CC0000';
                    h.style.marginTop = '20px';
                    h.style.marginBottom = '10px';
                });
                
                // Style code blocks
                contentClone.querySelectorAll('pre').forEach(pre => {
                    pre.style.backgroundColor = '#f5f5f5';
                    pre.style.border = '1px solid #ddd';
                    pre.style.padding = '15px';
                    pre.style.borderRadius = '5px';
                    pre.style.overflow = 'auto';
                });
                
                contentClone.querySelectorAll('code').forEach(code => {
                    if (!code.parentElement.tagName === 'PRE') {
                        code.style.backgroundColor = '#f5f5f5';
                        code.style.padding = '2px 6px';
                        code.style.borderRadius = '3px';
                        code.style.color = '#CC0000';
                    }
                });
                
                // Style tables
                contentClone.querySelectorAll('table').forEach(table => {
                    table.style.borderCollapse = 'collapse';
                    table.style.width = '100%';
                    table.style.marginBottom = '20px';
                });
                
                contentClone.querySelectorAll('th, td').forEach(cell => {
                    cell.style.border = '1px solid #ddd';
                    cell.style.padding = '10px';
                    cell.style.textAlign = 'left';
                });
                
                contentClone.querySelectorAll('th').forEach(th => {
                    th.style.backgroundColor = '#f5f5f5';
                    th.style.color = '#CC0000';
                    th.style.fontWeight = 'bold';
                });
                
                // Style blockquotes
                contentClone.querySelectorAll('blockquote').forEach(bq => {
                    bq.style.borderLeft = '4px solid #CC0000';
                    bq.style.paddingLeft = '20px';
                    bq.style.marginLeft = '0';
                    bq.style.color = '#666';
                    bq.style.fontStyle = 'italic';
                });
                
                // Remove copy buttons if any
                contentClone.querySelectorAll('.copy-code-btn').forEach(btn => btn.remove());
                
                pdfContainer.appendChild(contentClone);
                
                // Add footer
                const footer = document.createElement('div');
                footer.style.cssText = 'margin-top: 40px; padding-top: 20px; border-top: 2px solid #ddd; font-size: 0.85em; color: #666; text-align: center;';
                footer.innerHTML = `
                    <p>¬© 2025 A3KM Studio - Electronics Components Library</p>
                    <p>Visit: <a href="https://github.com/Akhinoor14/A3KM-Studio" style="color: #CC0000;">A3KM Studio</a></p>
                `;
                pdfContainer.appendChild(footer);
                
                // Configure PDF options
                const opt = {
                    margin: [15, 15, 15, 15],
                    filename: `${component.name.en.replace(/\s+/g, '_')}_Component_Guide.pdf`,
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { 
                        scale: 2,
                        useCORS: true,
                        letterRendering: true,
                        logging: false
                    },
                    jsPDF: { 
                        unit: 'mm', 
                        format: 'a4', 
                        orientation: 'portrait',
                        compress: true
                    },
                    pagebreak: { mode: ['avoid-all', 'css', 'legacy'] }
                };
                
                // Generate and download PDF
                await html2pdf().set(opt).from(pdfContainer).save();
                
                // Success notification
                setTimeout(() => {
                    alert(`‚úÖ PDF Downloaded!\n\nFile: ${opt.filename}\n\nCheck your Downloads folder.`);
                }, 500);
                
            } catch (error) {
                console.error('PDF generation error:', error);
                alert('‚ùå Error generating PDF. Please try again.\n\nError: ' + error.message);
            } finally {
                // Restore button
                originalBtn.innerHTML = originalHTML;
                originalBtn.disabled = false;
            }
        }

        // Share component
        function shareComponent() {
            if (navigator.share) {
                const component = ComponentsLibrary.getComponentById(currentComponent);
                navigator.share({
                    title: component.name.en,
                    text: `Check out this component: ${component.name.en}`,
                    url: window.location.href
                }).catch(err => console.log('Error sharing:', err));
            } else {
                copyShareLink();
            }
        }

        // Copy share link
        function copyShareLink() {
            const url = window.location.href;
            navigator.clipboard.writeText(url).then(() => {
                alert('Link copied to clipboard! Share it with others.');
            }).catch(err => {
                console.error('Failed to copy:', err);
            });
        }

        // Image zoom functionality
        function zoomImage(src) {
            document.getElementById('zoomedImage').src = src;
            document.getElementById('imageZoomModal').classList.add('active');
        }

        function closeImageZoom() {
            document.getElementById('imageZoomModal').classList.remove('active');
        }

        function addImageZoomListeners() {
            document.querySelectorAll('.markdown-content img').forEach(img => {
                img.style.cursor = 'pointer';
                img.onclick = function() {
                    zoomImage(this.src);
                };
            });
        }

        // Add copy buttons to code blocks
        function addCopyButtonsToCode() {
            document.querySelectorAll('.markdown-content pre code').forEach(block => {
                const wrapper = document.createElement('div');
                wrapper.className = 'code-block-wrapper';
                
                const copyBtn = document.createElement('button');
                copyBtn.className = 'copy-code-btn';
                copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copy';
                copyBtn.onclick = function() {
                    navigator.clipboard.writeText(block.textContent).then(() => {
                        copyBtn.classList.add('copied');
                        copyBtn.innerHTML = '<i class="fas fa-check"></i> Copied';
                        setTimeout(() => {
                            copyBtn.classList.remove('copied');
                            copyBtn.innerHTML = '<i class="fas fa-copy"></i> Copy';
                        }, 2000);
                    });
                };
                
                block.parentElement.parentElement.insertBefore(wrapper, block.parentElement);
                wrapper.appendChild(block.parentElement);
                wrapper.appendChild(copyBtn);
            });
        }

        // Handle URL parameters (shareable links)
        function handleURLParameters() {
            const urlParams = new URLSearchParams(window.location.search);
            const componentId = urlParams.get('component');
            
            if (componentId) {
                setTimeout(() => {
                    openComponent(componentId);
                }, 500);
            }
        }

        // Initialize on load
        window.addEventListener('load', handleURLParameters);

        // Handle browser back/forward
        window.addEventListener('popstate', (event) => {
            if (event.state && event.state.componentId) {
                openComponent(event.state.componentId);
            } else {
                closeModal();
            }
        });

        // Setup keyboard shortcuts
        function setupKeyboardShortcuts() {
            document.addEventListener('keydown', function(e) {
                if (document.getElementById('componentModal').classList.contains('active')) {
                    if (e.key === 'Escape') {
                        closeModal();
                    } else if (e.key === 'ArrowLeft') {
                        navigateComponent(-1);
                    } else if (e.key === 'ArrowRight') {
                        navigateComponent(1);
                    }
                }
            });
        }

        // Close modal on outside click
        document.getElementById('componentModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // ========== TAB SWITCHING FUNCTIONS ==========
        function switchMainTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.main-tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.closest('.main-tab-btn').classList.add('active');

            // Update tab content
            document.querySelectorAll('.tab-main-content').forEach(content => content.classList.remove('active'));
            document.getElementById(tabName + 'Tab').classList.add('active');

            // Load documentation if documentation tab is opened for first time
            if (tabName === 'documentation' && !document.getElementById('documentationContent').dataset.loaded) {
                loadFullDocumentation('bn');
            }
        }

        // ========== MARKDOWN TO HTML CONVERTER (with table support) ==========
        function convertMarkdownToHTML(markdown) {
            let html = markdown;

            // Tables (must be processed first)
            const tableRegex = /^\s*\|(.+)\|\s*$[\r\n]+^\s*\|[-:\s|]+\|\s*$[\r\n]+((?:^\s*\|.+\|\s*$[\r\n]*)+)/gm;
            html = html.replace(tableRegex, (match, headerRow, divider, bodyRows) => {
                const headers = headerRow.split('|').map(h => h.trim()).filter(h => h);
                const rows = bodyRows.trim().split('\n').map(row => 
                    row.split('|').map(cell => cell.trim()).filter(cell => cell !== '')
                );

                let table = '<div class="table-wrapper"><table>';
                table += '<thead><tr>' + headers.map(h => `<th>${h}</th>`).join('') + '</tr></thead>';
                table += '<tbody>';
                rows.forEach(row => {
                    table += '<tr>' + row.map(cell => `<td>${cell}</td>`).join('') + '</tr>';
                });
                table += '</tbody></table></div>';
                return table;
            });

            // Headers
            html = html.replace(/^### (.*$)/gim, '<h3>$1</h3>');
            html = html.replace(/^## (.*$)/gim, '<h2>$1</h2>');
            html = html.replace(/^# (.*$)/gim, '<h1>$1</h1>');

            // Blockquotes
            html = html.replace(/^\> (.+)$/gim, '<blockquote>$1</blockquote>');

            // Bold
            html = html.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
            html = html.replace(/__(.+?)__/g, '<strong>$1</strong>');

            // Italic
            html = html.replace(/\*(.+?)\*/g, '<em>$1</em>');
            html = html.replace(/_(.+?)_/g, '<em>$1</em>');

            // Code blocks
            html = html.replace(/```([\s\S]*?)```/g, '<pre><code>$1</code></pre>');
            html = html.replace(/`(.+?)`/g, '<code>$1</code>');

            // Links
            html = html.replace(/\[([^\]]+)\]\(([^)]+)\)/g, '<a href="$2" target="_blank">$1</a>');

            // Unordered lists
            html = html.replace(/^\* (.+)$/gim, '<li>$1</li>');
            html = html.replace(/^- (.+)$/gim, '<li>$1</li>');
            html = html.replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');

            // Ordered lists
            html = html.replace(/^\d+\. (.+)$/gim, '<li>$1</li>');

            // Line breaks
            html = html.replace(/\n\n/g, '</p><p>');
            html = html.replace(/^(.+)$/gim, '<p>$1</p>');

            // Horizontal rules
            html = html.replace(/^---$/gim, '<hr>');

            return html;
        }

        // ========== DOCUMENTATION LOADER ==========
        let currentDocLang = 'bn';
        async function loadFullDocumentation(lang) {
            currentDocLang = lang;
            const docContent = document.getElementById('documentationContent');
            
            // Update language buttons
            document.querySelectorAll('.doc-lang-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Show loading
            docContent.innerHTML = `
                <div class="loading">
                    <i class="fas fa-circle-notch"></i>
                    <p>Loading documentation...</p>
                </div>
            `;

            try {
                const fileName = lang === 'bn' ? 
                    'Electronic Components Guide/Electronic component BANGLA.md' : 
                    'Electronic Components Guide/Electronic componet English.md';
                
                const response = await fetch(fileName);
                if (!response.ok) throw new Error('Failed to load documentation');
                
                const markdown = await response.text();
                const html = convertMarkdownToHTML(markdown);
                
                docContent.innerHTML = html;
                docContent.dataset.loaded = 'true';
                
                console.log('üìö Desktop Documentation loaded:', lang);
            } catch (error) {
                console.error('‚ùå Error loading documentation:', error);
                docContent.innerHTML = `
                    <div class="error-message">
                        <h3><i class="fas fa-exclamation-triangle"></i> Failed to Load Documentation</h3>
                        <p>Unable to load the documentation file. Please try again later.</p>
                        <code>${error.message}</code>
                    </div>
                `;
            }
        }

        // ========== EXPORT DOCUMENTATION TO PDF ==========
        function exportDocumentationPDF() {
            const content = document.getElementById('documentationContent');
            const opt = {
                margin: 1,
                filename: `A3KM-Components-Documentation-${currentDocLang}.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'in', format: 'a4', orientation: 'portrait' }
            };
            html2pdf().set(opt).from(content).save();
        }
    </script>
    <script>
    (function() {
      window.addEventListener('scroll', function() {
        const navbar = document.getElementById('desktopNavbar');
        if (navbar) {
          if (window.scrollY > 50) {
            navbar.classList.add('scrolled');
          } else {
            navbar.classList.remove('scrolled');
          }
        }
      });
    })();
    </script>
</body>
</html>
