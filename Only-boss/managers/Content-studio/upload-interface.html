<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Content Upload Manager - A3KM Studio</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #1a1a1a;
      background-image: 
        linear-gradient(rgba(200, 0, 0, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(200, 0, 0, 0.05) 1px, transparent 1px),
        linear-gradient(rgba(200, 0, 0, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(200, 0, 0, 0.03) 1px, transparent 1px);
      background-size: 100px 100px, 100px 100px, 20px 20px, 20px 20px;
      background-position: -1px -1px, -1px -1px, -1px -1px, -1px -1px;
      min-height: 100vh;
      padding: 20px;
      position: relative;
    }
    
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 20% 50%, rgba(139, 0, 0, 0.15) 0%, transparent 50%),
                  radial-gradient(circle at 80% 50%, rgba(200, 0, 0, 0.1) 0%, transparent 50%);
      pointer-events: none;
      z-index: 0;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.8), 0 0 0 1px rgba(139, 0, 0, 0.3);
      position: relative;
      z-index: 1;
      border-top: 4px solid #8B0000;
    }

    .back-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(139, 0, 0, 0.1);
      border: 2px solid #8B0000;
      padding: 10px 20px;
      border-radius: 10px;
      color: #8B0000;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
    }

    .back-btn:hover {
      background: #8B0000;
      color: white;
      transform: translateX(-3px);
      box-shadow: 0 4px 12px rgba(139, 0, 0, 0.4);
    }

    h1 {
      color: #8B0000;
      margin-bottom: 10px;
      margin-top: 20px;
      font-size: 32px;
      font-weight: 700;
      letter-spacing: -0.5px;
    }

    .subtitle {
      color: #666;
      margin-bottom: 30px;
      font-size: 14px;
    }

    /* TAB SYSTEM */
    .tab-container {
      display: flex;
      gap: 10px;
      margin-bottom: 30px;
      border-bottom: 2px solid #e0e0e0;
      padding-bottom: 0;
    }

    .tab-btn {
      padding: 12px 24px;
      background: transparent;
      border: none;
      color: #666;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      border-bottom: 3px solid transparent;
      font-size: 14px;
    }

    .tab-btn:hover {
      color: #8B0000;
    }

    .tab-btn.active {
      color: #8B0000;
      border-bottom-color: #8B0000;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    /* SEARCH & FILTER BAR */
    .search-bar {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      align-items: center;
    }

    .search-bar input {
      flex: 1;
      margin-bottom: 0;
    }

    .filter-dropdown {
      min-width: 150px;
    }

    /* STATISTICS CARDS */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: linear-gradient(135deg, #8B0000, #C80000);
      color: white;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
    }

    .stat-card h3 {
      font-size: 32px;
      margin-bottom: 5px;
    }

    .stat-card p {
      font-size: 12px;
      opacity: 0.9;
    }

    /* CONTENT CARDS */
    .content-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
    }

    .content-card {
      background: white;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      overflow: hidden;
      transition: all 0.3s;
      cursor: pointer;
    }

    .content-card:hover {
      border-color: #8B0000;
      box-shadow: 0 4px 12px rgba(139, 0, 0, 0.2);
      transform: translateY(-2px);
    }

    .content-card.selected {
      border-color: #8B0000;
      background: rgba(139, 0, 0, 0.05);
    }

    .card-thumbnail {
      width: 100%;
      height: 150px;
      object-fit: cover;
      background: linear-gradient(135deg, #8B0000, #C80000);
    }

    .card-body {
      padding: 15px;
    }

    .card-title {
      font-size: 16px;
      font-weight: 600;
      color: #333;
      margin-bottom: 8px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .card-meta {
      font-size: 11px;
      color: #999;
      margin-bottom: 10px;
    }

    .card-actions {
      display: flex;
      gap: 8px;
      margin-top: 12px;
    }

    .card-actions button {
      flex: 1;
      padding: 8px;
      border: 1px solid #e0e0e0;
      background: white;
      border-radius: 6px;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .card-actions button:hover {
      background: #8B0000;
      color: white;
      border-color: #8B0000;
    }

    .card-checkbox {
      position: absolute;
      top: 10px;
      left: 10px;
      width: 24px;
      height: 24px;
      cursor: pointer;
    }

    /* BULK ACTIONS BAR */
    .bulk-actions {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background: #8B0000;
      color: white;
      padding: 15px 30px;
      border-radius: 50px;
      display: none;
      align-items: center;
      gap: 20px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.3);
      z-index: 1000;
    }

    .bulk-actions.active {
      display: flex;
    }

    .bulk-actions button {
      background: white;
      color: #8B0000;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .bulk-actions button:hover {
      background: #f5f5f5;
    }

    /* MODAL */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.7);
      z-index: 2000;
      align-items: center;
      justify-content: center;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: white;
      border-radius: 20px;
      padding: 40px;
      max-width: 600px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      position: relative;
    }

    .modal-close {
      position: absolute;
      top: 20px;
      right: 20px;
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #999;
    }

    .modal-close:hover {
      color: #8B0000;
    }

    /* UPLOAD HISTORY */
    .history-list {
      list-style: none;
    }

    .history-item {
      padding: 12px;
      border-bottom: 1px solid #e0e0e0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .history-item:hover {
      background: #f5f5f5;
    }

    .history-icon {
      margin-right: 10px;
    }

    .history-action {
      font-weight: 600;
      color: #8B0000;
    }

    .form-group {
      margin-bottom: 25px;
    }

    label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-weight: 600;
      font-size: 14px;
    }

    input, select, textarea {
      width: 100%;
      padding: 12px 15px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 14px;
      transition: all 0.3s;
      font-family: inherit;
    }8B0000;
      box-shadow: 0 0 0 3px rgba(139, 0, 0
    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    textarea {
      resize: vertical;
      min-height: 100px;
    }

    .file-upload {
      position: relative;
      overflow: hidden;
      display: inline-block;
      width: 100%;
    }

    .file-upload input[type=file] {
      position: absolute;
      left: -9999px;
    }

    .file-upload-label {
      display: flex;8B0000;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      background: #fff5f5;
    }

    .file-upload-label:hover {
      background: #ffe5e5;
      border-color: #C80000;
      box-shadow: 0 4px 12px rgba(139, 0, 0, 0.15)

    .file-upload-label:hover {
      background: #eef1ff;
      border-color: #764ba2;
    }

    .file-upload-label i {
      margin-right: 10px;
      font-size: 24px;
    }1a1a1a;
      color: white;
      border-radius: 5px;
      font-size: 13px;
      display: none;
      border-left: 3px solid #8B00000px;
      padding: 10px;
      background: #f0f0f0;
      border-radius: 5px;
      font-size: 13px;
      display: none;
    }

    .file-info.active {
      display: block;
    }

    .btn {
      padding: 15px 30px;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;8B0000 0%, #C80000 100%);
      color: white;
      width: 100%;
      margin-top: 20px;
      position: relative;
      overflow: hidden;
    }
    
    .btn-primary::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }
    
    .btn-primary:hover::before {
      left: 100%;
    }ff5f5;
      border-radius: 10px;
      border: 1px solid rgba(139, 0, 0, 0.2)
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(139, 0, 0, 0.6);
      background: linear-gradient(135deg, #A00000 0%, #E00000 100%
      width: 100%;
      margin-top: 20px;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .youtube-toggle {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
      padding: 15px;
      background: #f8f9ff;
      border-radius: 10px;
    }
1a1a1a;
      border-radius: 10px;
      overflow: hidden;
      border: 1px solid rgba(139, 0, 0, 0.3);
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #8B0000 0%, #C80000 50%, #8B0000 100%);
      background-size: 200% 100%;
      animation: progressShine 2s linear infinite;
      width: 0%;
      transition: width 0.3s;
    }
    
    @keyframes progressShine {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    .progress-text {
      text-align: center;
      margin-top: 11a1a1a;
      color: white;
      border-radius: 10px;
      margin-top: 20px;
      text-align: center;
      border: 2px solid #8B0000;
      box-shadow: 0 4px 20px rgba(139, 0, 0, 0.4)
    .progress.active {
      display: block;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      width: 0%;
      transition: width 0.3s;
    }

    .progress-text {
      text-align: center;
      margin-top: 10px;
      color: #666;
      font-size: 14px;
    }

    .success-message {
      display: none;
      padding: 20px;
      background: #4caf50;
      color: white;
      border-radius: 10px;
      margin-top: 20px;
      text-align: center;
    }

    .success-message.active {
      display: block;
      animation: slideIn 0.3s;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .preview-area {
      margin-top: 20px;
      display: none;
    }

    .preview-area.active {
      display: block;
    }

    .preview-grid {
      display: grid;26, 26, 26, 0.05), rgba(139, 0, 0, 0.05)); border: 2px solid rgba(139, 0, 0, 0.3); border-radius: 15px; padding: 20px; margin-bottom: 30px; box-shadow: 0 2px 10px rgba(139, 0, 0, 0.1);">
      <h3 style="color: #8B0000; margin-bottom: 10px; font-size: 18px; font-weight: 700;">âš™ï¸ Engineering Features</h3>
      <ul style="color: #333; line-height: 2; margin-left: 20px; font-weight: 500
      margin-top: 15px;
    }

    .preview-card {
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      padding: 10px;
      text-align: center;
    }

    .preview-card img {
      max-width: 100%;
      border-radius: 5px;
      margin-bottom: 10px;
    }

    .preview-card h4 {
      font-size: 12px;
      color: #666;
    }
  </style>
  <link rel="stylesheet" href="../../Optimization/navbar-autohide.css">
</head>
<body>
  <div class="container">
    <a href="../only-boss-dashboard.html" class="back-btn">
      â† Back to Dashboard
    </a>
    
    <h1>ğŸ“¤ Content Upload Manager</h1>
    <p class="subtitle">Upload books, videos, papers, or posts with automatic cover generation</p>

    <!-- TAB NAVIGATION -->
    <div class="tab-container">
      <button class="tab-btn active" onclick="switchTab('upload')">ğŸ“¤ Upload</button>
      <button class="tab-btn" onclick="switchTab('manage')">ğŸ“‹ Manage Content</button>
      <button class="tab-btn" onclick="switchTab('statistics')">ğŸ“Š Statistics</button>
      <button class="tab-btn" onclick="switchTab('history')">ğŸ• History</button>
    </div>

    <!-- TAB: UPLOAD -->
    <div id="uploadTab" class="tab-content active">
    <!-- Info Banner -->
    <div style="background: linear-gradient(135deg, rgba(139, 0, 0, 0.15), rgba(200, 0, 0, 0.15)); border: 2px solid rgba(139, 0, 0, 0.3); border-radius: 15px; padding: 20px; margin-bottom: 30px;">
      <h3 style="color: #8B0000; margin-bottom: 10px; font-size: 18px;">âœ¨ Premium Features</h3>
      <ul style="color: #333; line-height: 2; margin-left: 20px;">
        <li>ğŸ¨ <strong>Automatic SVG Cover Generation</strong> - Premium quality covers from 9 templates</li>
        <li>ğŸ“ <strong>Smart Folder Organization</strong> - Auto-creates category/content folder structure</li>
        <li>ğŸ–¼ï¸ <strong>Thumbnail Processing</strong> - Optimizes images in 3 sizes (small/medium/large)</li>
        <li>â–¶ï¸ <strong>YouTube Integration</strong> - Auto-fetches thumbnails from YouTube CDN</li>
        <li>ğŸ’¾ <strong>Metadata Management</strong> - Saves structured JSON for each content</li>
        <li>ğŸ”„ <strong>Duplicate Check</strong> - Prevents same content upload twice</li>
        <li>ğŸ“ <strong>File Size Preview</strong> - Shows size before upload</li>
        <li>ğŸ’¾ <strong>Auto Backup</strong> - Safety copy in local storage</li>
      </ul>
    </div>

    <form id="uploadForm">
      <!-- Content Type -->
      <div class="form-group">
        <label for="contentType">Content Type</label>
        <select id="contentType" required>
          <option value="">Select content type...</option>
          <option value="books-pdfs">ğŸ“š Books & PDFs</option>
          <option value="educational-videos">ğŸ“ Educational Videos</option>
          <option value="research-papers">ğŸ“„ Research Papers</option>
          <option value="video-content">ğŸ¬ Video Blogs</option>
          <option value="written-posts">âœï¸ Written Posts</option>
        </select>
      </div>

      <!-- Category -->
      <div class="form-group">
        <label for="category">Category</label>
        <select id="category" required>
          <option value="">Select category...</option>
        </select>
      </div>

      <!-- Title -->
      <div class="form-group">
        <label for="title">Title</label>
        <input type="text" id="title" placeholder="Enter content title..." required>
      </div>

      <!-- Description -->
      <div class="form-group">
        <label for="description">Description</label>
        <textarea id="description" placeholder="Enter description..."></textarea>
      </div>

      <!-- YouTube Toggle -->
      <div class="youtube-toggle" id="youtubeToggle" style="display: none;">
        <input type="checkbox" id="isYoutube">
        <label for="isYoutube">This is a YouTube video</label>
      </div>

      <!-- YouTube URL -->
      <div class="form-group" id="youtubeUrlGroup" style="display: none;">
        <label for="youtubeUrl">YouTube URL</label>
        <input type="url" id="youtubeUrl" placeholder="https://youtu.be/VIDEO_ID or https://www.youtube.com/watch?v=VIDEO_ID">
      </div>

      <!-- Content File -->
      <div class="form-group" id="contentFileGroup">
        <label>Content File</label>
        <div class="file-upload">
          <input type="file" id="contentFile" accept=".pdf,.epub">
          <label for="contentFile" class="file-upload-label">
            <span>ğŸ“ Choose file or drag here</span>
          </label>
        </div>
        <div class="file-info" id="contentFileInfo"></div>
      </div>

      <!-- Thumbnail File -->
      <div class="form-group" id="thumbnailGroup">
        <label>Thumbnail (Optional - auto-generated if not provided)</label>
        <div class="file-upload">
          <input type="file" id="thumbnailFile" accept="image/*">
          <label for="thumbnailFile" class="file-upload-label">
            <span>ğŸ–¼ï¸ Choose thumbnail image</span>
          </label>
        </div>
        <div class="file-info" id="thumbnailFileInfo"></div>
      </div>

      <!-- Additional Metadata -->
      <div class="form-group">
        <label for="author">Author / Creator</label>
        <input type="text" id="author" placeholder="Enter author name...">
      </div>

      <div class="form-group">
        <label for="tags">Tags (comma-separated)</label>
        <input type="text" id="tags" placeholder="e.g., arduino, programming, guide">
      </div>

      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary">
        ğŸš€ Upload Content
      </button>

      <!-- Progress -->
      <div class="progress" id="progress">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-text" id="progressText">Processing...</div>
      </div>

      <!-- Success Message -->
      <div class="success-message" id="successMessage">
        âœ… Content uploaded successfully!
      </div>
    </form>

    <!-- Preview Area -->
    <div class="preview-area" id="previewArea">
      <h3>ğŸ“‹ Upload Summary</h3>
      <div class="preview-grid" id="previewGrid"></div>
    </div>
    </div> <!-- End Upload Tab -->

    <!-- TAB: MANAGE CONTENT -->
    <div id="manageTab" class="tab-content">
      <!-- Search & Filter -->
      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="ğŸ” Search content..." onkeyup="filterContent()">
        <select id="filterType" class="filter-dropdown" onchange="filterContent()">
          <option value="all">All Types</option>
          <option value="books-pdfs">ğŸ“š Books</option>
          <option value="educational-videos">ğŸ“ Videos</option>
          <option value="research-papers">ğŸ“„ Papers</option>
          <option value="video-content">ğŸ¬ Vlogs</option>
          <option value="written-posts">âœï¸ Posts</option>
        </select>
        <select id="sortBy" class="filter-dropdown" onchange="filterContent()">
          <option value="dateAdded">Newest First</option>
          <option value="title">Title A-Z</option>
          <option value="category">By Category</option>
        </select>
        <button onclick="selectAllContent()" class="btn" style="padding: 12px 20px; width: auto; margin: 0;">
          Select All
        </button>
      </div>

      <!-- Content Grid -->
      <div id="contentGrid" class="content-grid">
        <!-- Cards will be loaded here -->
      </div>

      <!-- Empty State -->
      <div id="emptyState" style="text-align: center; padding: 60px 20px; color: #999; display: none;">
        <h2 style="font-size: 48px; margin-bottom: 20px;">ğŸ“‚</h2>
        <h3 style="color: #666; margin-bottom: 10px;">No content yet</h3>
        <p>Start uploading content from the Upload tab</p>
      </div>
    </div>

    <!-- TAB: STATISTICS -->
    <div id="statisticsTab" class="tab-content">
      <div class="stats-grid" id="statsGrid">
        <!-- Stats will be loaded here -->
      </div>

      <h3 style="margin: 30px 0 15px; color: #8B0000;">ğŸ“Š Content Distribution</h3>
      <canvas id="categoryChart" style="max-height: 300px;"></canvas>

      <h3 style="margin: 30px 0 15px; color: #8B0000;">ğŸ• Recent Uploads</h3>
      <div id="recentUploads">
        <!-- Recent items will be loaded here -->
      </div>
    </div>

    <!-- TAB: HISTORY -->
    <div id="historyTab" class="tab-content">
      <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
        <h3 style="color: #8B0000;">Upload & Action History</h3>
        <button onclick="clearHistory()" style="padding: 8px 16px; background: #f44336; color: white; border: none; border-radius: 6px; cursor: pointer;">
          Clear History
        </button>
      </div>

      <ul class="history-list" id="historyList">
        <!-- History items will be loaded here -->
      </ul>

      <div id="historyEmpty" style="text-align: center; padding: 40px; color: #999; display: none;">
        <p>No history available</p>
      </div>
    </div>

    <!-- EDIT MODAL -->
    <div id="editModal" class="modal">
      <div class="modal-content">
        <button class="modal-close" onclick="closeEditModal()">Ã—</button>
        <h2 style="color: #8B0000; margin-bottom: 20px;">âœï¸ Edit Content</h2>
        
        <form id="editForm">
          <input type="hidden" id="editContentId">
          <input type="hidden" id="editContentType">
          
          <div class="form-group">
            <label for="editTitle">Title</label>
            <input type="text" id="editTitle" required>
          </div>
          
          <div class="form-group">
            <label for="editCategory">Category</label>
            <select id="editCategory" required>
              <option value="">Select category...</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="editDescription">Description</label>
            <textarea id="editDescription"></textarea>
          </div>
          
          <div class="form-group">
            <label for="editAuthor">Author</label>
            <input type="text" id="editAuthor">
          </div>
          
          <div class="form-group">
            <label for="editTags">Tags (comma-separated)</label>
            <input type="text" id="editTags">
          </div>
          
          <button type="submit" class="btn btn-primary">
            ğŸ’¾ Save Changes
          </button>
        </form>
      </div>
    </div>

    <!-- DELETE CONFIRMATION MODAL -->
    <div id="deleteModal" class="modal">
      <div class="modal-content" style="max-width: 400px;">
        <button class="modal-close" onclick="closeDeleteModal()">Ã—</button>
        <h2 style="color: #f44336; margin-bottom: 20px;">ğŸ—‘ï¸ Delete Content?</h2>
        
        <p style="margin-bottom: 20px; color: #666;">
          This will permanently delete this content from GitHub. This action cannot be undone.
        </p>
        
        <div style="display: flex; gap: 10px;">
          <button onclick="closeDeleteModal()" style="flex: 1; padding: 12px; background: #e0e0e0; border: none; border-radius: 8px; cursor: pointer;">
            Cancel
          </button>
          <button onclick="confirmDelete()" style="flex: 1; padding: 12px; background: #f44336; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
            Delete
          </button>
        </div>
      </div>
    </div>

    <!-- BULK ACTIONS BAR -->
    <div id="bulkActions" class="bulk-actions">
      <span id="selectedCount">0 selected</span>
      <button onclick="bulkDelete()">ğŸ—‘ï¸ Delete</button>
      <button onclick="bulkMoveCategory()">ğŸ“ Move</button>
      <button onclick="deselectAll()">âœ– Deselect</button>
    </div>

    <!-- Preview Area (moved here from inside form) -->
    <div class="preview-area" id="previewArea" style="position: fixed; bottom: 20px; right: 20px; width: 300px; display: none;">
      <h3>ğŸ“‹ Upload Summary</h3>
      <div class="preview-grid" id="previewGrid"></div>
    </div>
  </div> <!-- End Container -->

  <script src="svg-generator.js"></script>
  <script src="github-content-uploader.js"></script>
  <script src="content-manager.js"></script>
  <script src="content-upload-manager.js"></script>
  <script src="thumbnail-handler.js"></script>
  <script>
    // Initialize managers
    const svgGenerator = new SVGCoverGenerator();
    const uploader = new ContentUploadManager();
    const thumbnailHandler = new ThumbnailHandler();
    
    // GitHub configuration - REPLACE WITH YOUR TOKEN
    const GITHUB_TOKEN = 'YOUR_GITHUB_TOKEN_HERE'; // Get from: https://github.com/settings/tokens
    
    const githubUploader = new GitHubContentUploader({
        token: GITHUB_TOKEN,
        owner: 'Akhinoor14',
        repo: 'A3KM-Studio',
        onProgress: (data) => {
            console.log('Upload progress:', data);
            updateProgressUI(data);
        },
        onError: (error) => {
            console.error('Upload error:', error);
            showError(error.error || 'Upload failed');
        },
        onSuccess: (data) => {
            console.log('Upload success:', data);
        }
    });
    
    // Initialize Content Manager
    const contentManager = new ContentManager(githubUploader);
    
    // Global state
    let currentContentList = [];
    let deleteTargetId = null;
    let deleteTargetType = null;
    
    // GitHub configuration - REPLACE WITH YOUR TOKEN
    const GITHUB_TOKEN = 'YOUR_GITHUB_TOKEN_HERE'; // Get from: https://github.com/settings/tokens
    
    const githubUploader = new GitHubContentUploader({
        token: GITHUB_TOKEN,
        owner: 'Akhinoor14',
        repo: 'A3KM-Studio',
        onProgress: (data) => {
            console.log('Upload progress:', data);
            updateProgressUI(data);
        },
        onError: (error) => {
            console.error('Upload error:', error);
            showError(error.error || 'Upload failed');
        },
        onSuccess: (data) => {
            console.log('Upload success:', data);
        }
    });

    // JSON paths for category loading
    const categoryFiles = {
      'books-pdfs': '../../Content Studio/books-pdfs/books.json',
      'educational-videos': '../../Content Studio/educational-videos/courses.json',
      'research-papers': '../../Content Studio/research-papers/papers.json',
      'video-content': '../../Content Studio/video-content/videos.json',
      'written-posts': '../../Content Studio/written-posts/posts.json'
    };

    // Category data cache
    let categoriesCache = {};

    // Load categories from JSON
    async function loadCategories(contentType) {
      try {
        if (categoriesCache[contentType]) {
          return categoriesCache[contentType];
        }

        const response = await fetch(categoryFiles[contentType]);
        const data = await response.json();
        
        let categories = [];
        
        // Extract categories from categoryGroups structure
        if (data.categoryGroups) {
          // Handle videos.json hybrid structure
          if (contentType === 'video-content' && typeof data.categoryGroups === 'object') {
            // Combine video-blog and educational categories
            Object.values(data.categoryGroups).forEach(groupArray => {
              if (Array.isArray(groupArray)) {
                groupArray.forEach(group => {
                  if (group.categories) {
                    categories.push(...group.categories);
                  }
                });
              }
            });
          } else if (Array.isArray(data.categoryGroups)) {
            // Handle standard structure (books, courses, papers, posts)
            data.categoryGroups.forEach(group => {
              if (group.categories) {
                categories.push(...group.categories);
              }
            });
          }
        }
        
        categoriesCache[contentType] = categories;
        return categories;
      } catch (error) {
        console.error('Failed to load categories:', error);
        return [];
      }
    }

    // Category data (load from JSON in production)
    const categories = {
      'literature-language': ['Fiction - Novels', 'Poetry & Verse', 'Drama & Plays'],
      'arts-culture': ['Music Theory & Composition', 'Visual Arts & Painting'],
      'engineering-technology': ['Arduino & Microcontrollers', 'Circuit Design', '3D Modeling & CAD'],
      // Add all categories...
    };

    // Event listeners
    document.getElementById('contentType').addEventListener('change', async function() {
      const contentType = this.value;
      const categorySelect = document.getElementById('category');
      
      // Show YouTube toggle for video content
      if (contentType === 'video-content' || contentType === 'educational-videos') {
        document.getElementById('youtubeToggle').style.display = 'flex';
      } else {
        document.getElementById('youtubeToggle').style.display = 'none';
        document.getElementById('isYoutube').checked = false;
      }
      
      // Load categories from JSON
      categorySelect.innerHTML = '<option value="">Loading categories...</option>';
      const categories = await loadCategories(contentType);
      
      categorySelect.innerHTML = '<option value="">Select category...</option>';
      categories.forEach(cat => {
        const option = document.createElement('option');
        option.value = cat;
        option.textContent = cat;
        categorySelect.appendChild(option);
      });
    });

    document.getElementById('isYoutube').addEventListener('change', function() {
      const isYoutube = this.checked;
      document.getElementById('youtubeUrlGroup').style.display = isYoutube ? 'block' : 'none';
      document.getElementById('contentFileGroup').style.display = isYoutube ? 'none' : 'block';
      document.getElementById('thumbnailGroup').querySelector('label').textContent = 
        isYoutube ? 'Thumbnail (Auto-fetched from YouTube)' : 'Thumbnail (Optional)';
    });

    // File input handlers
    document.getElementById('contentFile').addEventListener('change', function() {
      const file = this.files[0];
      if (file) {
        const info = document.getElementById('contentFileInfo');
        info.textContent = `ğŸ“„ ${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)`;
        info.classList.add('active');
      }
    });

    document.getElementById('thumbnailFile').addEventListener('change', function() {
      const file = this.files[0];
      if (file) {
        const validation = thumbnailHandler.validateThumbnail(file);
        const info = document.getElementById('thumbnailFileInfo');
        
        if (validation.valid) {
          info.textContent = `ğŸ–¼ï¸ ${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)`;
          info.style.color = '#4caf50';
        } else {
          info.textContent = `âŒ ${validation.errors.join(', ')}`;
          info.style.color = '#f44336';
        }
        info.classList.add('active');
      }
    });

    // Form submission
    document.getElementById('uploadForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      // Check GitHub token
      if (GITHUB_TOKEN === 'YOUR_GITHUB_TOKEN_HERE' || !GITHUB_TOKEN) {
        alert('âš ï¸ GitHub token not configured!\n\nPlease:\n1. Get token from: https://github.com/settings/tokens\n2. Update GITHUB_TOKEN in this file\n3. Save and try again');
        return;
      }
      
      const progress = document.getElementById('progress');
      const progressFill = document.getElementById('progressFill');
      const progressText = document.getElementById('progressText');
      const successMessage = document.getElementById('successMessage');
      
      progress.classList.add('active');
      successMessage.classList.remove('active');
      
      try {
        // Collect form data
        const contentType = document.getElementById('contentType').value;
        const category = document.getElementById('category').value;
        const title = document.getElementById('title').value;
        const description = document.getElementById('description').value;
        const tags = document.getElementById('tags').value.split(',').map(t => t.trim());
        const author = document.getElementById('author').value;
        
        const isYoutube = document.getElementById('isYoutube').checked;
        const youtubeUrl = document.getElementById('youtubeUrl')?.value;
        const contentFile = document.getElementById('contentFile').files[0];
        const thumbnailFile = document.getElementById('thumbnailFile').files[0];
        
        // Validate
        if (!contentType || !category || !title) {
          throw new Error('Please fill all required fields');
        }
        
        if (!isYoutube && !contentFile) {
          throw new Error('Please select a content file');
        }
        
        if (isYoutube && !youtubeUrl) {
          throw new Error('Please enter YouTube URL');
        }
        
        // ===== DUPLICATE CHECK =====
        progressText.textContent = 'Checking for duplicates...';
        progressFill.style.width = '5%';
        
        const duplicateCheck = await contentManager.checkDuplicates(contentType, title, category);
        if (duplicateCheck.isDuplicate) {
          const confirm = window.confirm(
            `âš ï¸ Duplicate Found!\n\n` +
            `A content with title "${title}" already exists in "${category}".\n\n` +
            `Found ${duplicateCheck.count} matching content(s).\n\n` +
            `Do you want to upload anyway?`
          );
          if (!confirm) {
            progress.classList.remove('active');
            return;
          }
        }
        
        // ===== AUTO SLUG GENERATION =====
        const autoSlug = contentManager.slugify(title);
        console.log(`ğŸ“ Auto-generated slug: ${autoSlug}`);
        
        // ===== FILE SIZE PREVIEW =====
        if (contentFile) {
          const fileSize = contentManager.formatFileSize(contentFile.size);
          console.log(`ğŸ“ File size: ${fileSize}`);
          progressText.textContent = `File size: ${fileSize} - Starting upload...`;
        }
        
        // Generate content ID
        const contentId = `${contentType.replace('/', '-')}-${Date.now()}`;
        
        // Extract YouTube ID
        let youtubeId = null;
        if (isYoutube && youtubeUrl) {
          const match = youtubeUrl.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\s]+)/);
          youtubeId = match ? match[1] : null;
        }
        
        progressText.textContent = 'Generating category cover...';
        progressFill.style.width = '10%';
        
        // Generate SVG cover
        const coverSVG = await svgGenerator.generateCover(category, 0);
        
        progressText.textContent = 'Uploading to GitHub...';
        progressFill.style.width = '30%';
        
        // Upload complete content
        const uploadResult = await githubUploader.uploadCompleteContent({
          contentType: contentType,
          category: category,
          contentId: contentId,
          title: title,
          description: description,
          tags: tags,
          author: author,
          contentFile: contentFile,
          thumbnailFile: thumbnailFile,
          coverSVG: coverSVG,
          youtubeId: youtubeId,
          metadata: {
            youtubeUrl: youtubeUrl,
            isYoutubeContent: isYoutube
          }
        });
        
        progressFill.style.width = '100%';
        progressText.textContent = 'Upload complete!';
        
        // ===== AUTO BACKUP =====
        contentManager.createBackup(contentType, uploadResult);
        console.log('ğŸ’¾ Backup created');
        
        // ===== ADD TO HISTORY =====
        contentManager.addToHistory({
          action: 'upload',
          contentType: contentType,
          contentId: contentId,
          title: title,
          category: category,
          fileSize: contentFile ? contentFile.size : 0,
          timestamp: new Date().toISOString()
        });
        console.log('ğŸ“ Added to history');
        
        // Show success
        progress.classList.remove('active');
        successMessage.innerHTML = `
          âœ… Content uploaded successfully!<br>
          <small style="margin-top: 10px; display: block;">
            ID: ${contentId}<br>
            Slug: ${autoSlug}<br>
            Files uploaded: ${uploadResult.uploads.length}<br>
            ğŸ“Š Backup saved | ğŸ“ Logged to history
          </small>
        `;
        successMessage.classList.add('active');
        
        // Show preview
        showUploadPreview(uploadResult);
        
        // Reset form after 5 seconds
        setTimeout(() => {
          this.reset();
          successMessage.classList.remove('active');
          document.getElementById('previewArea').classList.remove('active');
          document.querySelectorAll('.file-info').forEach(el => el.classList.remove('active'));
        }, 5000);
        
      } catch (error) {
        console.error('Upload failed:', error);
        progress.classList.remove('active');
        alert(`âŒ Upload Failed\n\n${error.message}\n\nPlease check console for details.`);
      }
    });
    
    // Update progress UI
    function updateProgressUI(data) {
      const progressText = document.getElementById('progressText');
      const progressFill = document.getElementById('progressFill');
      
      const stages = {
        'checking': { text: 'Checking existing files...', percent: 20 },
        'uploading': { text: `Uploading ${data.path}...`, percent: 60 },
        'uploaded': { text: `Uploaded ${data.path}`, percent: 80 },
        'reading JSON': { text: 'Reading data file...', percent: 85 },
        'updating JSON': { text: 'Updating data file...', percent: 95 }
      };
      
      const stage = stages[data.stage] || { text: data.stage, percent: 50 };
      progressText.textContent = stage.text;
      progressFill.style.width = `${stage.percent}%`;
    }
    
    // Show upload preview
    function showUploadPreview(result) {
      const previewArea = document.getElementById('previewArea');
      const previewGrid = document.getElementById('previewGrid');
      
      previewGrid.innerHTML = '';
      
      // Show uploaded paths
      Object.entries(result.paths).forEach(([type, path]) => {
        const card = document.createElement('div');
        card.className = 'preview-card';
        card.innerHTML = `
          <h4>${type.toUpperCase()}</h4>
          <p style="font-size: 11px; word-break: break-all;">${path}</p>
        `;
        previewGrid.appendChild(card);
      });
      
      previewArea.classList.add('active');
    }
    
    // Show error
    function showError(message) {
      const progressText = document.getElementById('progressText');
      progressText.textContent = `âŒ Error: ${message}`;
      progressText.style.color = '#f44336';
    }
    
    // Test GitHub connection on page load
    window.addEventListener('DOMContentLoaded', async () => {
      if (GITHUB_TOKEN && GITHUB_TOKEN !== 'YOUR_GITHUB_TOKEN_HERE') {
        console.log('ğŸ”„ Testing GitHub connection...');
        const test = await githubUploader.testConnection();
        
        if (test.success) {
          console.log('âœ… GitHub connected:', test.repo);
        } else {
          console.error('âŒ GitHub connection failed:', test.error);
        }
      } else {
        console.warn('âš ï¸ GitHub token not configured. UploadåŠŸèƒ½ won\'t work.');
      }
    });
    
    // Helper: Format file size
    function formatFileSize(bytes) {
      if (bytes < 1024) return bytes + ' B';
      if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(2) + ' KB';
      return (bytes / 1024 / 1024).toFixed(2) + ' MB';
    }
    
    // ==================== TAB MANAGEMENT ====================
    
    function switchTab(tabName) {
      // Hide all tabs
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
      });
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      
      // Show selected tab
      document.getElementById(tabName + 'Tab').classList.add('active');
      event.target.classList.add('active');
      
      // Load content for specific tabs
      if (tabName === 'manage') {
        loadManageContent();
      } else if (tabName === 'statistics') {
        loadStatistics();
      } else if (tabName === 'history') {
        loadHistory();
      }
    }
    
    // ==================== MANAGE CONTENT ====================
    
    async function loadManageContent() {
      const grid = document.getElementById('contentGrid');
      const emptyState = document.getElementById('emptyState');
      
      grid.innerHTML = '<p style="text-align: center; padding: 40px; color: #999;">Loading...</p>';
      
      try {
        currentContentList = await contentManager.getAllContent();
        
        if (currentContentList.length === 0) {
          grid.innerHTML = '';
          emptyState.style.display = 'block';
          return;
        }
        
        emptyState.style.display = 'none';
        renderContentCards(currentContentList);
        
      } catch (error) {
        console.error('Error loading content:', error);
        grid.innerHTML = '<p style="text-align: center; padding: 40px; color: #f44336;">âŒ Failed to load content</p>';
      }
    }
    
    function renderContentCards(items) {
      const grid = document.getElementById('contentGrid');
      grid.innerHTML = '';
      
      items.forEach(item => {
        const card = document.createElement('div');
        card.className = 'content-card';
        card.dataset.id = item.id;
        card.dataset.type = item.contentType;
        
        const thumbnailUrl = item.thumbnail || item.coverImage || 'data:image/svg+xml,...';
        const dateAdded = contentManager.formatDate(item.dateAdded);
        
        card.innerHTML = `
          <input type="checkbox" class="card-checkbox" onchange="toggleCardSelection('${item.id}')">
          <img src="${thumbnailUrl}" class="card-thumbnail" alt="${item.title}" onerror="this.style.background='linear-gradient(135deg, #8B0000, #C80000)'">
          <div class="card-body">
            <div class="card-title">${item.title}</div>
            <div class="card-meta">
              ğŸ“ ${item.category}<br>
              ğŸ• ${dateAdded}
              ${item.fileSize ? `<br>ğŸ“ ${contentManager.formatFileSize(item.fileSize)}` : ''}
            </div>
            <div class="card-actions">
              <button onclick="openEditModal('${item.id}', '${item.contentType}')">âœï¸ Edit</button>
              <button onclick="openDeleteModal('${item.id}', '${item.contentType}')">ğŸ—‘ï¸</button>
            </div>
          </div>
        `;
        
        grid.appendChild(card);
      });
    }
    
    function filterContent() {
      const searchQuery = document.getElementById('searchInput').value;
      const filterType = document.getElementById('filterType').value;
      const sortBy = document.getElementById('sortBy').value;
      
      let filtered = [...currentContentList];
      
      // Search filter
      if (searchQuery) {
        filtered = contentManager.searchContent(filtered, searchQuery);
      }
      
      // Type filter
      if (filterType !== 'all') {
        filtered = filtered.filter(item => item.contentType === filterType);
      }
      
      // Sort
      filtered = contentManager.sortItems(filtered, sortBy, 'desc');
      
      renderContentCards(filtered);
    }
    
    // ==================== EDIT CONTENT ====================
    
    async function openEditModal(contentId, contentType) {
      const modal = document.getElementById('editModal');
      const item = await contentManager.getContentById(contentType, contentId);
      
      if (!item) {
        alert('Content not found');
        return;
      }
      
      // Fill form
      document.getElementById('editContentId').value = contentId;
      document.getElementById('editContentType').value = contentType;
      document.getElementById('editTitle').value = item.title;
      document.getElementById('editDescription').value = item.description || '';
      document.getElementById('editAuthor').value = item.author || '';
      document.getElementById('editTags').value = (item.tags || []).join(', ');
      
      // Load categories
      const categories = await loadCategories(contentType);
      const categorySelect = document.getElementById('editCategory');
      categorySelect.innerHTML = '';
      categories.forEach(cat => {
        const option = document.createElement('option');
        option.value = cat;
        option.textContent = cat;
        option.selected = cat === item.category;
        categorySelect.appendChild(option);
      });
      
      modal.classList.add('active');
    }
    
    function closeEditModal() {
      document.getElementById('editModal').classList.remove('active');
    }
    
    document.getElementById('editForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const contentId = document.getElementById('editContentId').value;
      const contentType = document.getElementById('editContentType').value;
      
      const updates = {
        title: document.getElementById('editTitle').value,
        category: document.getElementById('editCategory').value,
        description: document.getElementById('editDescription').value,
        author: document.getElementById('editAuthor').value,
        tags: document.getElementById('editTags').value.split(',').map(t => t.trim())
      };
      
      try {
        await contentManager.editContent(contentType, contentId, updates);
        alert('âœ… Content updated successfully!');
        closeEditModal();
        loadManageContent(); // Reload
      } catch (error) {
        alert('âŒ Failed to update: ' + error.message);
      }
    });
    
    // ==================== DELETE CONTENT ====================
    
    function openDeleteModal(contentId, contentType) {
      deleteTargetId = contentId;
      deleteTargetType = contentType;
      document.getElementById('deleteModal').classList.add('active');
    }
    
    function closeDeleteModal() {
      document.getElementById('deleteModal').classList.remove('active');
      deleteTargetId = null;
      deleteTargetType = null;
    }
    
    async function confirmDelete() {
      if (!deleteTargetId || !deleteTargetType) return;
      
      try {
        await contentManager.deleteContent(deleteTargetType, deleteTargetId);
        alert('âœ… Content deleted successfully!');
        closeDeleteModal();
        loadManageContent(); // Reload
      } catch (error) {
        alert('âŒ Failed to delete: ' + error.message);
      }
    }
    
    // ==================== BULK OPERATIONS ====================
    
    function toggleCardSelection(contentId) {
      contentManager.toggleSelection(contentId);
      updateBulkActionsBar();
      
      const card = document.querySelector(`[data-id="${contentId}"]`);
      if (card) {
        card.classList.toggle('selected');
      }
    }
    
    function selectAllContent() {
      const checkboxes = document.querySelectorAll('.card-checkbox');
      checkboxes.forEach(cb => {
        cb.checked = true;
        const card = cb.closest('.content-card');
        card.classList.add('selected');
        contentManager.toggleSelection(card.dataset.id);
      });
      updateBulkActionsBar();
    }
    
    function deselectAll() {
      contentManager.deselectAll();
      document.querySelectorAll('.card-checkbox').forEach(cb => cb.checked = false);
      document.querySelectorAll('.content-card').forEach(card => card.classList.remove('selected'));
      updateBulkActionsBar();
    }
    
    function updateBulkActionsBar() {
      const selected = contentManager.getSelected();
      const bar = document.getElementById('bulkActions');
      const count = document.getElementById('selectedCount');
      
      if (selected.length > 0) {
        bar.classList.add('active');
        count.textContent = `${selected.length} selected`;
      } else {
        bar.classList.remove('active');
      }
    }
    
    async function bulkDelete() {
      const selected = contentManager.getSelected();
      if (selected.length === 0) return;
      
      const confirm = window.confirm(`Delete ${selected.length} items? This cannot be undone.`);
      if (!confirm) return;
      
      // Group by type
      const byType = {};
      document.querySelectorAll('.content-card.selected').forEach(card => {
        const type = card.dataset.type;
        const id = card.dataset.id;
        if (!byType[type]) byType[type] = [];
        byType[type].push(id);
      });
      
      // Delete each type
      for (const [type, ids] of Object.entries(byType)) {
        await contentManager.bulkDelete(type, ids);
      }
      
      alert('âœ… Bulk delete complete!');
      deselectAll();
      loadManageContent();
    }
    
    async function bulkMoveCategory() {
      const selected = contentManager.getSelected();
      if (selected.length === 0) return;
      
      const newCategory = prompt('Enter new category name:');
      if (!newCategory) return;
      
      for (const id of selected) {
        const card = document.querySelector(`[data-id="${id}"]`);
        const type = card.dataset.type;
        try {
          await contentManager.moveToCategory(type, id, newCategory);
        } catch (error) {
          console.error('Move failed:', error);
        }
      }
      
      alert('âœ… Bulk move complete!');
      deselectAll();
      loadManageContent();
    }
    
    // ==================== STATISTICS ====================
    
    async function loadStatistics() {
      const statsGrid = document.getElementById('statsGrid');
      statsGrid.innerHTML = '<p style="text-align: center; padding: 40px; color: #999;">Loading statistics...</p>';
      
      try {
        const stats = await contentManager.getStatistics();
        
        statsGrid.innerHTML = `
          <div class="stat-card">
            <h3>${stats.totalContent}</h3>
            <p>Total Content</p>
          </div>
          <div class="stat-card">
            <h3>${Object.keys(stats.byType).length}</h3>
            <p>Content Types</p>
          </div>
          <div class="stat-card">
            <h3>${Object.keys(stats.byCategory).length}</h3>
            <p>Categories</p>
          </div>
          <div class="stat-card">
            <h3>${contentManager.formatFileSize(stats.totalSize)}</h3>
            <p>Total Size</p>
          </div>
        `;
        
        // Recent uploads
        const recentDiv = document.getElementById('recentUploads');
        recentDiv.innerHTML = '';
        stats.recentUploads.forEach(item => {
          const card = document.createElement('div');
          card.style.cssText = 'padding: 15px; border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 10px;';
          card.innerHTML = `
            <strong>${item.title}</strong><br>
            <small style="color: #999;">
              ${item.category} Â· ${contentManager.formatDate(item.dateAdded)}
            </small>
          `;
          recentDiv.appendChild(card);
        });
        
      } catch (error) {
        console.error('Error loading statistics:', error);
        statsGrid.innerHTML = '<p style="text-align: center; padding: 40px; color: #f44336;">âŒ Failed to load statistics</p>';
      }
    }
    
    // ==================== HISTORY ====================
    
    function loadHistory() {
      const historyList = document.getElementById('historyList');
      const historyEmpty = document.getElementById('historyEmpty');
      
      const history = contentManager.getHistory(50);
      
      if (history.length === 0) {
        historyList.style.display = 'none';
        historyEmpty.style.display = 'block';
        return;
      }
      
      historyEmpty.style.display = 'none';
      historyList.style.display = 'block';
      historyList.innerHTML = '';
      
      history.forEach(entry => {
        const li = document.createElement('li');
        li.className = 'history-item';
        
        const icons = {
          'upload': 'ğŸ“¤',
          'edit': 'âœï¸',
          'delete': 'ğŸ—‘ï¸',
          'move': 'ğŸ“'
        };
        
        li.innerHTML = `
          <div>
            <span class="history-icon">${icons[entry.action] || 'ğŸ“'}</span>
            <span class="history-action">${entry.action.toUpperCase()}</span>
            <span style="color: #666; margin-left: 10px;">${entry.title}</span>
          </div>
          <small style="color: #999;">${contentManager.formatDate(entry.timestamp)}</small>
        `;
        
        historyList.appendChild(li);
      });
    }
    
    function clearHistory() {
      const confirm = window.confirm('Clear all history? This cannot be undone.');
      if (!confirm) return;
      
      contentManager.clearHistory();
      loadHistory();
      alert('âœ… History cleared');
    }
  </script>
  <script src="../../Optimization/navbar-autohide.js"></script>
</body>
</html>
