<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#9C27B0">
    
    <title>Settings - Only Boss</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="../../../images/favicon.svg">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="manager.css">
</head>
<body>
    <!-- Fixed Header -->
    <header class="settings-header">
        <button class="back-btn" onclick="goBack()">
            <i class="fas fa-arrow-left"></i>
        </button>
        <div class="header-title">
            <h1>Settings</h1>
            <span class="settings-subtitle">Configure your workspace</span>
        </div>
        <button class="save-btn" onclick="saveAllSettings()">
            <i class="fas fa-save"></i>
        </button>
    </header>

    <!-- Settings Container -->
    <div class="settings-container">
        
        <!-- GitHub Configuration Section -->
        <div class="settings-section">
            <div class="section-header" onclick="toggleSection('github')">
                <div class="section-icon github">
                    <i class="fab fa-github"></i>
                </div>
                <div class="section-info">
                    <h3>GitHub Configuration</h3>
                    <p id="githubStatusText">Not connected</p>
                </div>
                <i class="fas fa-chevron-down toggle-icon"></i>
            </div>
            <div class="section-content" id="github-content">
                <div class="form-group">
                    <label for="githubToken">Personal Access Token</label>
                    <div class="input-with-icon">
                        <input type="password" id="githubToken" placeholder="ghp_xxxxxxxxxxxxx" />
                        <button class="icon-btn" onclick="toggleTokenVisibility()">
                            <i class="fas fa-eye" id="tokenEyeIcon"></i>
                        </button>
                    </div>
                    <small class="form-hint">Required for GitHub operations. <a href="https://github.com/settings/tokens" target="_blank">Get token</a></small>
                </div>
                
                <div class="form-group">
                    <label for="githubRepo">Repository</label>
                    <input type="text" id="githubRepo" placeholder="username/repository" />
                </div>
                
                <div class="action-buttons">
                    <button class="btn-secondary" onclick="testGitHubConnection()">
                        <i class="fas fa-plug"></i> Test Connection
                    </button>
                    <button class="btn-primary" onclick="saveGitHubSettings()">
                        <i class="fas fa-save"></i> Save
                    </button>
                </div>
                
                <div class="connection-status" id="connectionStatus"></div>
            </div>
        </div>

        <!-- Password Generator Section -->
        <div class="settings-section">
            <div class="section-header" onclick="toggleSection('password')">
                <div class="section-icon password">
                    <i class="fas fa-key"></i>
                </div>
                <div class="section-info">
                    <h3>Password Generator</h3>
                    <p>Generate secure passwords</p>
                </div>
                <i class="fas fa-chevron-down toggle-icon"></i>
            </div>
            <div class="section-content" id="password-content">
                <div class="form-group">
                    <label for="passwordLength">Password Length: <span id="lengthValue">16</span></label>
                    <input type="range" id="passwordLength" min="8" max="64" value="16" />
                </div>
                
                <div class="checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="includeUppercase" checked />
                        <span>Uppercase (A-Z)</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="includeLowercase" checked />
                        <span>Lowercase (a-z)</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="includeNumbers" checked />
                        <span>Numbers (0-9)</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" id="includeSymbols" checked />
                        <span>Symbols (!@#$%^&*)</span>
                    </label>
                </div>
                
                <div class="generated-password-box">
                    <input type="text" id="generatedPassword" readonly placeholder="Click Generate to create password" />
                    <button class="icon-btn" onclick="copyPassword()">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
                
                <button class="btn-primary btn-full" onclick="generatePassword()">
                    <i class="fas fa-refresh"></i> Generate Password
                </button>
            </div>
        </div>

        <!-- Session Settings Section -->
        <div class="settings-section">
            <div class="section-header" onclick="toggleSection('session')">
                <div class="section-icon session">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="section-info">
                    <h3>Session Settings</h3>
                    <p>Manage your login session</p>
                </div>
                <i class="fas fa-chevron-down toggle-icon"></i>
            </div>
            <div class="section-content" id="session-content">
                <div class="form-group">
                    <label for="sessionTimeout">Session Timeout (minutes)</label>
                    <select id="sessionTimeout">
                        <option value="15">15 minutes</option>
                        <option value="30" selected>30 minutes</option>
                        <option value="60">1 hour</option>
                        <option value="120">2 hours</option>
                        <option value="0">Never expire</option>
                    </select>
                </div>
                
                <label class="checkbox-label">
                    <input type="checkbox" id="keepLoggedIn" />
                    <span>Keep me logged in (Remember session)</span>
                </label>
                
                <div class="session-info-box">
                    <div class="info-row">
                        <span>Current Session:</span>
                        <span id="sessionTime">--:--</span>
                    </div>
                    <div class="info-row">
                        <span>Login Time:</span>
                        <span id="loginTime">Not available</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Theme Settings Section -->
        <div class="settings-section">
            <div class="section-header" onclick="toggleSection('theme')">
                <div class="section-icon theme">
                    <i class="fas fa-palette"></i>
                </div>
                <div class="section-info">
                    <h3>Theme Settings</h3>
                    <p>Customize appearance</p>
                </div>
                <i class="fas fa-chevron-down toggle-icon"></i>
            </div>
            <div class="section-content" id="theme-content">
                <div class="form-group">
                    <label>Theme Mode</label>
                    <div class="theme-selector">
                        <button class="theme-btn active" data-theme="dark" onclick="selectTheme('dark')">
                            <i class="fas fa-moon"></i>
                            <span>Dark</span>
                        </button>
                        <button class="theme-btn" data-theme="light" onclick="selectTheme('light')">
                            <i class="fas fa-sun"></i>
                            <span>Light</span>
                        </button>
                        <button class="theme-btn" data-theme="auto" onclick="selectTheme('auto')">
                            <i class="fas fa-circle-half-stroke"></i>
                            <span>Auto</span>
                        </button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="accentColor">Accent Color</label>
                    <div class="color-picker-wrapper">
                        <input type="color" id="accentColor" value="#9C27B0" />
                        <span id="colorValue">#9C27B0</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Data Management Section -->
        <div class="settings-section">
            <div class="section-header" onclick="toggleSection('data')">
                <div class="section-icon data">
                    <i class="fas fa-database"></i>
                </div>
                <div class="section-info">
                    <h3>Data Management</h3>
                    <p>Export, clear, or reset data</p>
                </div>
                <i class="fas fa-chevron-down toggle-icon"></i>
            </div>
            <div class="section-content" id="data-content">
                <div class="data-action-grid">
                    <button class="data-btn" onclick="exportSettings()">
                        <i class="fas fa-download"></i>
                        <span>Export Settings</span>
                    </button>
                    <button class="data-btn" onclick="importSettings()">
                        <i class="fas fa-upload"></i>
                        <span>Import Settings</span>
                    </button>
                    <button class="data-btn warning" onclick="clearCache()">
                        <i class="fas fa-broom"></i>
                        <span>Clear Cache</span>
                    </button>
                    <button class="data-btn danger" onclick="resetSettings()">
                        <i class="fas fa-undo"></i>
                        <span>Reset All</span>
                    </button>
                </div>
                
                <input type="file" id="importFile" accept=".json" style="display: none;" onchange="handleImport(event)" />
            </div>
        </div>

        <!-- About Section -->
        <div class="settings-section">
            <div class="section-header" onclick="toggleSection('about')">
                <div class="section-icon about">
                    <i class="fas fa-info-circle"></i>
                </div>
                <div class="section-info">
                    <h3>About</h3>
                    <p>Version & information</p>
                </div>
                <i class="fas fa-chevron-down toggle-icon"></i>
            </div>
            <div class="section-content" id="about-content">
                <div class="about-info">
                    <div class="app-logo">
                        <i class="fas fa-crown"></i>
                    </div>
                    <h2>Only Boss Mobile</h2>
                    <p class="version">Version 1.0.0</p>
                    <p class="copyright">Â© 2026 A3KM Studio. All rights reserved.</p>
                </div>
                
                <div class="about-links">
                    <a href="#" onclick="showPrivacyPolicy()">
                        <i class="fas fa-shield-alt"></i> Privacy Policy
                    </a>
                    <a href="#" onclick="showTerms()">
                        <i class="fas fa-file-contract"></i> Terms of Service
                    </a>
                    <a href="https://github.com/Akhinoor14/A3KM-Studio" target="_blank">
                        <i class="fab fa-github"></i> GitHub Repository
                    </a>
                </div>
            </div>
        </div>

        <!-- Logout Section -->
        <div class="logout-section">
            <button class="btn-danger btn-full" onclick="handleLogout()">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <script src="../../../auth/only-boss-auth.js"></script>
    <script src="../../shared/auth-guard.js"></script>
    <script src="manager.js"></script>
</body>
</html>
