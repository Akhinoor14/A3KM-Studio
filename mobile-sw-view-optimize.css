/* ========================================
   MOBILE SOLIDWORKS VIEW OPTIMIZATION
   Optimized interface for CW/HW/Solo views
   Focus: Compact header, maximum card space
   ======================================== */

@media (max-width: 768px) {
    
    /* ===========================
       COMPACT HEADER WITH ICONS
       =========================== */
    
    /* Main View Header - Super Compact */
    .sw-view-header {
        padding: 8px 12px !important;
        flex-direction: row !important;
        align-items: center !important;
        flex-wrap: wrap !important;
        gap: 8px !important;
        background: linear-gradient(135deg, rgba(40, 0, 0, 0.98), rgba(20, 0, 0, 0.95)) !important;
        border-bottom: 2px solid rgba(255, 0, 0, 0.5) !important;
        border-radius: 0 !important;
        margin-bottom: 0 !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.7) !important;
        position: sticky !important;
        top: 0 !important;
        z-index: 999 !important;
        backdrop-filter: blur(15px) !important;
        -webkit-backdrop-filter: blur(15px) !important;
        min-height: auto !important;
    }

    /* Title - Compact with Icon */
    .sw-view-header h4 {
        font-size: 0.95rem !important;
        font-weight: 700 !important;
        margin: 0 !important;
        padding: 0 !important;
        color: #ffffff !important;
        text-shadow: 0 1px 6px rgba(255, 0, 0, 0.6) !important;
        display: flex !important;
        align-items: center !important;
        gap: 6px !important;
        letter-spacing: 0.3px !important;
        flex: 1 1 auto !important;
        white-space: nowrap !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
    }
    
    .sw-view-header h4::before {
        content: 'üìÇ' !important;
        font-size: 1.1rem !important;
        filter: drop-shadow(0 1px 6px rgba(255, 0, 0, 0.5)) !important;
        flex-shrink: 0 !important;
    }

    /* Back Button - Icon Only, Small */
    .sw-back {
        width: auto !important;
        padding: 8px 12px !important;
        min-height: 36px !important;
        font-size: 0.85rem !important;
        font-weight: 700 !important;
        background: linear-gradient(135deg, rgba(80, 0, 0, 0.8), rgba(40, 0, 0, 0.7)) !important;
        border: 1.5px solid rgba(255, 0, 0, 0.6) !important;
        border-radius: 8px !important;
        color: #ffffff !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 6px !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        text-shadow: 0 1px 4px rgba(0, 0, 0, 0.8) !important;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
        letter-spacing: 0.3px !important;
        flex-shrink: 0 !important;
        order: -1 !important;
    }

    .sw-back:active {
        transform: scale(0.95) !important;
        background: linear-gradient(135deg, #ff0000, #cc0000) !important;
        border-color: rgba(255, 0, 0, 0.8) !important;
        box-shadow: 0 5px 14px rgba(255, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.15) !important;
    }

    .sw-back i {
        font-size: 1rem !important;
        filter: drop-shadow(0 1px 4px rgba(255, 0, 0, 0.5)) !important;
    }

    /* GitHub Link - Icon Button Only */
    .folder-link {
        width: auto !important;
        padding: 8px 12px !important;
        min-height: 36px !important;
        font-size: 0 !important; /* Hide text */
        font-weight: 700 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 0 !important;
        background: linear-gradient(135deg, rgba(60, 0, 0, 0.8), rgba(30, 0, 0, 0.7)) !important;
        border: 1.5px solid rgba(255, 0, 0, 0.5) !important;
        border-radius: 8px !important;
        color: #ffffff !important;
        text-decoration: none !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.08) !important;
        flex-shrink: 0 !important;
        position: relative !important;
    }

    /* Tooltip for GitHub link on long press */
    .folder-link::after {
        content: 'GitHub' !important;
        position: absolute !important;
        bottom: -28px !important;
        left: 50% !important;
        transform: translateX(-50%) scale(0) !important;
        background: rgba(0, 0, 0, 0.9) !important;
        color: #fff !important;
        padding: 4px 8px !important;
        border-radius: 6px !important;
        font-size: 0.75rem !important;
        white-space: nowrap !important;
        pointer-events: none !important;
        opacity: 0 !important;
        transition: all 0.2s ease !important;
        z-index: 1000 !important;
    }

    .folder-link:active::after {
        transform: translateX(-50%) scale(1) !important;
        opacity: 1 !important;
    }

    .folder-link:active {
        transform: scale(0.95) !important;
        background: linear-gradient(135deg, rgba(100, 0, 0, 0.9), rgba(50, 0, 0, 0.8)) !important;
        border-color: rgba(255, 0, 0, 0.7) !important;
        box-shadow: 0 5px 14px rgba(0, 0, 0, 0.6), 0 0 12px rgba(255, 0, 0, 0.3) !important;
    }

    .folder-link::before {
        content: '\f09b' !important; /* GitHub icon */
        font-family: 'Font Awesome 5 Free' !important;
        font-weight: 900 !important;
        font-size: 1.1rem !important;
        filter: drop-shadow(0 1px 6px rgba(255, 0, 0, 0.4)) !important;
    }

    /* Refresh Button - If exists, make icon only */
    .sw-refresh-btn,
    button[aria-label*="Refresh"],
    button[data-action="refresh"] {
        width: auto !important;
        padding: 8px 12px !important;
        min-height: 36px !important;
        font-size: 0 !important; /* Hide text */
        background: linear-gradient(135deg, rgba(0, 100, 200, 0.6), rgba(0, 70, 150, 0.5)) !important;
        border: 1.5px solid rgba(0, 150, 255, 0.6) !important;
        border-radius: 8px !important;
        color: #ffffff !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.4) !important;
        flex-shrink: 0 !important;
    }

    .sw-refresh-btn::before,
    button[aria-label*="Refresh"]::before,
    button[data-action="refresh"]::before {
        content: '\f021' !important; /* Refresh icon */
        font-family: 'Font Awesome 5 Free' !important;
        font-weight: 900 !important;
        font-size: 1.1rem !important;
        filter: drop-shadow(0 1px 6px rgba(0, 150, 255, 0.4)) !important;
    }

    .sw-refresh-btn:active,
    button[aria-label*="Refresh"]:active,
    button[data-action="refresh"]:active {
        transform: scale(0.95) rotate(180deg) !important;
        background: linear-gradient(135deg, rgba(0, 150, 255, 0.7), rgba(0, 120, 220, 0.6)) !important;
        border-color: rgba(0, 180, 255, 0.8) !important;
    }

    /* Close Button - Top Right Corner */
    .sw-view-close,
    button[data-action="close"],
    button[aria-label*="Close"] {
        width: auto !important;
        padding: 8px 12px !important;
        min-height: 36px !important;
        font-size: 0 !important; /* Hide text */
        background: linear-gradient(135deg, rgba(200, 0, 0, 0.7), rgba(150, 0, 0, 0.6)) !important;
        border: 1.5px solid rgba(255, 0, 0, 0.7) !important;
        border-radius: 8px !important;
        color: #ffffff !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.5) !important;
        flex-shrink: 0 !important;
        margin-left: auto !important;
    }

    .sw-view-close::before,
    button[data-action="close"]::before,
    button[aria-label*="Close"]::before {
        content: '‚úï' !important;
        font-size: 1.2rem !important;
        font-weight: 700 !important;
        filter: drop-shadow(0 1px 6px rgba(255, 0, 0, 0.5)) !important;
    }

    .sw-view-close:active,
    button[data-action="close"]:active,
    button[aria-label*="Close"]:active {
        transform: scale(0.95) rotate(90deg) !important;
        background: linear-gradient(135deg, #ff0000, #cc0000) !important;
        border-color: rgba(255, 50, 50, 0.9) !important;
        box-shadow: 0 5px 14px rgba(255, 0, 0, 0.5) !important;
    }

    
    /* ===========================
       MAXIMIZED CONTENT SPACE
       =========================== */
    
    /* Files Wrap - More space, less padding */
    .sw-files-wrap {
        padding: 12px 10px !important;
        width: 100% !important;
        background: transparent !important;
        /* Maximum available height */
        min-height: calc(100vh - 150px) !important;
    }

    /* Day Folders - Compact but readable */
    .sw-day-folder {
        margin-bottom: 14px !important;
        background: linear-gradient(135deg, rgba(25, 0, 0, 0.75), rgba(12, 0, 0, 0.6)) !important;
        border: 2px solid rgba(255, 0, 0, 0.4) !important;
        border-radius: 12px !important;
        padding: 14px !important;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.05) !important;
        overflow: hidden !important;
    }

    .sw-day-folder:last-child {
        margin-bottom: 80px !important; /* Space for footer */
    }

    /* Day Title - Compact */
    .sw-day-title {
        font-size: 1rem !important;
        font-weight: 800 !important;
        padding: 0 0 10px 0 !important;
        margin: 0 0 12px 0 !important;
        color: #ffffff !important;
        text-shadow: 0 2px 8px rgba(255, 0, 0, 0.6) !important;
        border-bottom: 2px solid rgba(255, 0, 0, 0.4) !important;
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
        letter-spacing: 0.3px !important;
        text-transform: uppercase !important;
        font-size: 0.9rem !important;
    }

    .sw-day-title::before {
        content: 'üìÖ' !important;
        font-size: 1.1rem !important;
        filter: drop-shadow(0 2px 8px rgba(255, 0, 0, 0.5)) !important;
    }

    /* File List - Tighter spacing */
    .sw-file-list {
        display: flex !important;
        flex-direction: column !important;
        gap: 10px !important;
        padding: 0 !important;
        margin: 0 !important;
    }

    /* Individual File Item - Optimized size */
    .sw-file-item {
        padding: 14px 16px !important;
        min-height: 68px !important;
        border-radius: 10px !important;
        background: linear-gradient(135deg, rgba(40, 0, 0, 0.65), rgba(20, 0, 0, 0.5)) !important;
        border: 2px solid rgba(255, 0, 0, 0.35) !important;
        display: flex !important;
        flex-direction: column !important;
        gap: 12px !important;
        cursor: pointer !important;
        transition: all 0.25s ease !important;
        box-shadow: 0 4px 14px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.05) !important;
        position: relative !important;
        overflow: hidden !important;
    }
    
    .sw-file-item::before {
        content: '' !important;
        position: absolute !important;
        top: 0 !important;
        left: -100% !important;
        width: 100% !important;
        height: 100% !important;
        background: linear-gradient(90deg, transparent, rgba(255, 0, 0, 0.12), transparent) !important;
        transition: left 0.5s ease !important;
    }

    .sw-file-item:active {
        transform: scale(0.98) !important;
        background: linear-gradient(135deg, rgba(80, 0, 0, 0.85), rgba(40, 0, 0, 0.7)) !important;
        border-color: rgba(255, 0, 0, 0.65) !important;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.7), 0 0 20px rgba(255, 0, 0, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.08) !important;
    }
    
    .sw-file-item:active::before {
        left: 100% !important;
    }

    /* File Name - Compact but clear */
    .sw-file-name {
        font-size: 0.98rem !important;
        font-weight: 700 !important;
        color: #ffffff !important;
        margin: 0 !important;
        padding: 0 !important;
        text-shadow: 0 2px 6px rgba(0, 0, 0, 0.7) !important;
        display: flex !important;
        align-items: center !important;
        gap: 8px !important;
        line-height: 1.4 !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        white-space: nowrap !important;
        letter-spacing: 0.2px !important;
    }

    .sw-file-name::before {
        content: '\f1c2' !important;
        font-family: 'Font Awesome 5 Free' !important;
        font-weight: 900 !important;
        color: rgba(255, 100, 0, 0.9) !important;
        font-size: 1.1rem !important;
        filter: drop-shadow(0 2px 6px rgba(255, 100, 0, 0.5)) !important;
        flex-shrink: 0 !important;
    }

    /* File Actions - 2 column grid */
    .sw-file-actions {
        display: grid !important;
        grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
        gap: 8px !important;
        width: 100% !important;
    }

    /* Action Buttons - Compact */
    .sw-file-btn {
        min-width: 0 !important;
        padding: 10px 12px !important;
        font-size: 0.75rem !important;
        font-weight: 700 !important;
        min-height: 44px !important;
        background: linear-gradient(135deg, rgba(0, 150, 100, 0.45), rgba(0, 120, 80, 0.35)) !important;
        border: 1.5px solid rgba(0, 200, 130, 0.55) !important;
        border-radius: 8px !important;
        color: #ffffff !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 6px !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7) !important;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
        letter-spacing: 0.2px !important;
        text-transform: uppercase !important;
    }

    .sw-file-btn:active {
        transform: scale(0.96) !important;
        background: linear-gradient(135deg, rgba(0, 200, 140, 0.55), rgba(0, 160, 110, 0.45)) !important;
        border-color: rgba(0, 255, 160, 0.75) !important;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6), 0 0 12px rgba(0, 200, 130, 0.35) !important;
    }

    .sw-file-btn i {
        font-size: 0.95rem !important;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5)) !important;
    }

    /* View Button */
    .sw-file-btn[data-action="view"],
    .sw-file-btn.btn-view {
        background: linear-gradient(135deg, rgba(0, 120, 220, 0.45), rgba(0, 90, 180, 0.35)) !important;
        border-color: rgba(0, 150, 255, 0.55) !important;
    }

    .sw-file-btn[data-action="view"]:active,
    .sw-file-btn.btn-view:active {
        background: linear-gradient(135deg, rgba(0, 150, 255, 0.55), rgba(0, 120, 220, 0.45)) !important;
        border-color: rgba(0, 180, 255, 0.75) !important;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6), 0 0 12px rgba(0, 150, 255, 0.35) !important;
    }

    /* Download Button */
    .sw-file-btn[data-action="download"],
    .sw-file-btn.btn-download {
        background: linear-gradient(135deg, rgba(0, 150, 100, 0.45), rgba(0, 120, 80, 0.35)) !important;
        border-color: rgba(0, 200, 130, 0.55) !important;
    }

    .sw-file-btn[data-action="download"]:active,
    .sw-file-btn.btn-download:active {
        background: linear-gradient(135deg, rgba(0, 200, 140, 0.55), rgba(0, 160, 110, 0.45)) !important;
        border-color: rgba(0, 255, 160, 0.75) !important;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6), 0 0 12px rgba(0, 200, 130, 0.35) !important;
    }

    /* Preview Button */
    .sw-file-btn[data-action="preview"],
    .sw-file-btn.btn-preview {
        background: linear-gradient(135deg, rgba(180, 0, 180, 0.45), rgba(140, 0, 140, 0.35)) !important;
        border-color: rgba(220, 0, 220, 0.55) !important;
    }

    .sw-file-btn[data-action="preview"]:active,
    .sw-file-btn.btn-preview:active {
        background: linear-gradient(135deg, rgba(220, 0, 220, 0.55), rgba(180, 0, 180, 0.45)) !important;
        border-color: rgba(255, 0, 255, 0.75) !important;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6), 0 0 12px rgba(200, 0, 200, 0.35) !important;
    }

    
    /* ===========================
       COMPACT FOOTER
       =========================== */
    
    /* View Footer - Minimal height */
    .sw-view-footer {
        margin-top: 0 !important;
        padding: 10px 12px !important;
        background: linear-gradient(180deg, rgba(0, 0, 0, 0.1), rgba(20, 0, 0, 0.5)) !important;
        border-top: 2px solid rgba(255, 0, 0, 0.5) !important;
        position: fixed !important;
        bottom: 0 !important;
        left: 0 !important;
        right: 0 !important;
        z-index: 998 !important;
        backdrop-filter: blur(15px) !important;
        -webkit-backdrop-filter: blur(15px) !important;
    }

    .sw-back-bottom {
        width: 100% !important;
        padding: 12px 20px !important;
        min-height: 48px !important;
        font-size: 0.95rem !important;
        font-weight: 800 !important;
        background: linear-gradient(135deg, rgba(80, 0, 0, 0.85), rgba(40, 0, 0, 0.7)) !important;
        border: 2px solid rgba(255, 0, 0, 0.65) !important;
        border-radius: 10px !important;
        color: #ffffff !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 10px !important;
        cursor: pointer !important;
        transition: all 0.2s ease !important;
        text-shadow: 0 2px 6px rgba(0, 0, 0, 0.9), 0 0 8px rgba(255, 0, 0, 0.5) !important;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.15) !important;
        letter-spacing: 0.3px !important;
        text-transform: uppercase !important;
    }

    .sw-back-bottom:active {
        transform: scale(0.97) !important;
        background: linear-gradient(135deg, #ff0000, #cc0000) !important;
        border-color: rgba(255, 50, 50, 0.9) !important;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.7), 0 0 16px rgba(255, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.25) !important;
    }

    .sw-back-bottom i {
        font-size: 1.2rem !important;
        filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.7)) drop-shadow(0 0 5px rgba(255, 0, 0, 0.5)) !important;
    }

    
    /* ===========================
       SPECIAL BADGES & MARKERS
       =========================== */
    
    /* Spot Test Badge */
    .sw-file-item[data-spot-test="true"] .sw-file-name::before,
    .sw-file-item.spot-test .sw-file-name::before {
        content: '‚≠ê' !important;
        font-family: system-ui !important;
        color: #ffc107 !important;
        filter: drop-shadow(0 2px 6px rgba(255, 193, 7, 0.6)) !important;
    }

    /* Assembly Badge */
    .sw-file-item[data-type="assembly"] .sw-file-name::after,
    .sw-file-item.assembly .sw-file-name::after {
        content: 'ASM' !important;
        font-size: 0.65rem !important;
        padding: 2px 6px !important;
        background: rgba(150, 0, 200, 0.3) !important;
        border: 1px solid rgba(150, 0, 200, 0.5) !important;
        border-radius: 5px !important;
        margin-left: auto !important;
        text-transform: uppercase !important;
        font-weight: 700 !important;
    }

    
    /* ===========================
       RESPONSIVE ADJUSTMENTS
       =========================== */
    
    /* Very small screens (< 375px) */
    @media (max-width: 374px) {
        .sw-view-header h4 {
            font-size: 0.85rem !important;
        }
        
        .sw-back,
        .folder-link,
        .sw-refresh-btn,
        .sw-view-close {
            padding: 6px 10px !important;
            min-height: 32px !important;
        }
        
        .sw-file-actions {
            grid-template-columns: 1fr !important;
        }
        
        .sw-file-btn {
            font-size: 0.8rem !important;
        }
    }

    /* Medium mobile (375px - 425px) */
    @media (min-width: 375px) and (max-width: 425px) {
        .sw-view-header {
            padding: 10px 14px !important;
        }
        
        .sw-files-wrap {
            padding: 14px 12px !important;
        }
    }

    /* Large mobile (> 425px) */
    @media (min-width: 426px) and (max-width: 768px) {
        .sw-view-header {
            padding: 12px 16px !important;
        }
        
        .sw-view-header h4 {
            font-size: 1.05rem !important;
        }
        
        .sw-back,
        .folder-link {
            padding: 10px 14px !important;
            min-height: 40px !important;
        }
        
        .sw-files-wrap {
            padding: 16px 14px !important;
        }
        
        .sw-file-actions {
            grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
        }
    }

    
    /* ===========================
       LOADING & ERROR STATES
       =========================== */
    
    /* Loading Spinner - Compact */
    .sw-loading {
        padding: 20px !important;
        text-align: center !important;
        color: rgba(255, 255, 255, 0.7) !important;
        font-size: 0.9rem !important;
    }

    .sw-loading::before {
        content: '' !important;
        display: inline-block !important;
        width: 24px !important;
        height: 24px !important;
        border: 3px solid rgba(255, 0, 0, 0.3) !important;
        border-top-color: rgba(255, 0, 0, 0.8) !important;
        border-radius: 50% !important;
        animation: spin 1s linear infinite !important;
        margin-bottom: 10px !important;
    }

    @keyframes spin {
        to { transform: rotate(360deg); }
    }

    /* Error State - Compact */
    .sw-error {
        padding: 16px !important;
        margin: 16px 12px !important;
        background: rgba(200, 0, 0, 0.2) !important;
        border: 2px solid rgba(255, 0, 0, 0.5) !important;
        border-radius: 10px !important;
        color: #fff !important;
        font-size: 0.9rem !important;
        text-align: center !important;
    }

    /* Empty State - Compact */
    .sw-empty {
        padding: 30px 20px !important;
        text-align: center !important;
        color: rgba(255, 255, 255, 0.6) !important;
        font-size: 0.95rem !important;
    }

    .sw-empty::before {
        content: 'üì≠' !important;
        display: block !important;
        font-size: 3rem !important;
        margin-bottom: 12px !important;
        filter: grayscale(0.3) !important;
    }

}

/* End of Mobile SOLIDWORKS View Optimization */
