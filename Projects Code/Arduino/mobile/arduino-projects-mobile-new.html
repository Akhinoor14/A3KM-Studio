<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <meta name="description" content="23 Arduino UNO Projects - LED circuits, sensors, displays, IoT - A3KM Studio">
    <title>Arduino Projects | A3KM Studio</title>
    
    <!-- Favicon -->
    <link rel="icon" href="../../../images/favicon.svg" type="image/svg+xml">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles-arduino-mobile-new.css">
</head>
<body class="mobile-body">

    <!-- Background System -->
    <div class="mobile-bg-container">
        <div class="mobile-bg-gradient"></div>
        <div class="mobile-bg-grid"></div>
    </div>

    <!-- Content Wrapper -->
    <div class="mobile-content-wrapper">
        
        <!-- Page Header -->
        <div class="mobile-page-header">
            <button class="mobile-back-btn" onclick="window.history.back()">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="mobile-header-content">
                <div class="mobile-header-badge">
                    <i class="fas fa-microchip"></i>
                    <span>Embedded Systems</span>
                </div>
                <h1>Arduino Projects</h1>
                <p>23 circuits with Tinkercad & Arduino UNO</p>
            </div>
        </div>

        <!-- Stats Bar -->
        <div class="mobile-stats-bar">
            <div class="mobile-stat-item">
                <div class="mobile-stat-icon">üí°</div>
                <div class="mobile-stat-info">
                    <div class="mobile-stat-number">5</div>
                    <div class="mobile-stat-label">LED</div>
                </div>
            </div>
            <div class="mobile-stat-item">
                <div class="mobile-stat-icon">üîå</div>
                <div class="mobile-stat-info">
                    <div class="mobile-stat-number">7</div>
                    <div class="mobile-stat-label">Sensors</div>
                </div>
            </div>
            <div class="mobile-stat-item">
                <div class="mobile-stat-icon">üìü</div>
                <div class="mobile-stat-info">
                    <div class="mobile-stat-number">4</div>
                    <div class="mobile-stat-label">Display</div>
                </div>
            </div>
            <div class="mobile-stat-item">
                <div class="mobile-stat-icon">‚≠ê</div>
                <div class="mobile-stat-info">
                    <div class="mobile-stat-number">7</div>
                    <div class="mobile-stat-label">Advanced</div>
                </div>
            </div>
        </div>

        <!-- Filter Tabs -->
        <div class="mobile-filter-tabs">
            <button class="mobile-filter-tab active" data-category="all">
                <i class="fas fa-list"></i>
                <span>All</span>
            </button>
            <button class="mobile-filter-tab" data-category="led-basics">
                <i class="fas fa-lightbulb"></i>
                <span>LED</span>
            </button>
            <button class="mobile-filter-tab" data-category="sensors-actuators">
                <i class="fas fa-sensor"></i>
                <span>Sensors</span>
            </button>
            <button class="mobile-filter-tab" data-category="display-input">
                <i class="fas fa-tv"></i>
                <span>Display</span>
            </button>
            <button class="mobile-filter-tab" data-category="advanced-projects">
                <i class="fas fa-star"></i>
                <span>Advanced</span>
            </button>
        </div>

        <!-- Loading State -->
        <div id="loadingState" class="mobile-loading">
            <div class="mobile-spinner"></div>
            <p>Loading projects...</p>
        </div>

        <!-- Projects Container -->
        <div id="projectsContainer" class="mobile-projects-container"></div>

        <!-- Bottom Spacer -->
        <div class="mobile-bottom-spacer"></div>
    </div>

    <!-- Project Modal -->
    <div id="projectModal" class="mobile-modal">
        <div class="mobile-modal-content">
            <div class="mobile-modal-header">
                <h2 id="modalTitle">Project Title</h2>
                <button class="mobile-modal-close" onclick="closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="mobile-modal-body">
                <div class="mobile-modal-preview">
                    <img id="modalImage" src="" alt="Circuit Preview">
                </div>
                <div class="mobile-modal-info" id="modalInfo"></div>
                <div class="mobile-modal-components" id="modalComponents"></div>
                <div class="mobile-modal-actions">
                    <a id="modalTinkercadBtn" href="#" target="_blank" class="mobile-modal-btn mobile-btn-primary">
                        <i class="fas fa-external-link-alt"></i>
                        <span>Open in Tinkercad</span>
                    </a>
                    <button onclick="shareProject()" class="mobile-modal-btn mobile-btn-secondary">
                        <i class="fas fa-share-alt"></i>
                        <span>Share</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navbar -->
    <nav class="mobile-bottom-navbar">
        <a href="../../../Home/mobile/index-mobile-new.html" class="mobile-nav-item">
            <div class="mobile-nav-icon">
                <i class="fas fa-home"></i>
            </div>
            <span class="mobile-nav-label">Home</span>
        </a>
        
        <a href="../../../About me/mobile/about-mobile-new.html" class="mobile-nav-item">
            <div class="mobile-nav-icon">
                <i class="fas fa-user"></i>
            </div>
            <span class="mobile-nav-label">About</span>
        </a>
        
        <a href="../../mobile/projects-mobile-new.html" class="mobile-nav-item active">
            <div class="mobile-nav-icon">
                <i class="fas fa-folder-open"></i>
            </div>
            <span class="mobile-nav-label">Projects</span>
        </a>
        
        <a href="../../../Content Studio/mobile/studio-mobile.html" class="mobile-nav-item">
            <div class="mobile-nav-icon">
                <i class="fas fa-play-circle"></i>
            </div>
            <span class="mobile-nav-label">Content</span>
        </a>
        
        <a href="../../../Contact/mobile/contact-mobile.html" class="mobile-nav-item">
            <div class="mobile-nav-icon">
                <i class="fas fa-envelope"></i>
            </div>
            <span class="mobile-nav-label">Contact</span>
        </a>
    </nav>

    <script>
        let projectsData = null;
        let currentProject = null;

        // Category names for display
        const categoryNames = {
            'led-basics': {
                name: 'LED & Basic I/O',
                icon: 'fas fa-lightbulb',
                description: 'LED patterns, PWM, RGB control'
            },
            'sensors-actuators': {
                name: 'Sensors & Actuators',
                icon: 'fas fa-sensor',
                description: 'Servo, ultrasonic, temperature, PIR'
            },
            'display-input': {
                name: 'Display & Input',
                icon: 'fas fa-tv',
                description: 'LCD, keypad, 7-segment, buzzer'
            },
            'advanced-projects': {
                name: 'Advanced Projects',
                icon: 'fas fa-star',
                description: 'Solar tracker, smart parking, IoT'
            }
        };

        // Load projects data
        async function loadProjects() {
            try {
                const response = await fetch('../arduino-data.json');
                if (!response.ok) throw new Error('Failed to load data');
                
                const data = await response.json();
                projectsData = data.projects;
                
                document.getElementById('loadingState').style.display = 'none';
                renderProjects();
            } catch (error) {
                console.error('Error loading projects:', error);
                document.getElementById('loadingState').innerHTML = `
                    <div class="mobile-empty-state">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h3>Error Loading Projects</h3>
                        <p>${error.message}</p>
                        <button onclick="location.reload()" class="mobile-retry-btn">
                            <i class="fas fa-redo"></i> Retry
                        </button>
                    </div>
                `;
            }
        }

        // Render projects
        function renderProjects(filter = 'all') {
            if (!projectsData) return;
            
            const container = document.getElementById('projectsContainer');
            container.innerHTML = '';

            // Group by category
            const categories = {};
            projectsData.forEach(project => {
                if (!categories[project.category]) {
                    categories[project.category] = [];
                }
                categories[project.category].push(project);
            });

            // Render each category
            Object.keys(categories).forEach(categoryKey => {
                if (filter !== 'all' && filter !== categoryKey) return;

                const categoryInfo = categoryNames[categoryKey];
                if (!categoryInfo) return;

                const section = document.createElement('div');
                section.className = 'mobile-project-section';
                section.id = categoryKey;
                
                section.innerHTML = `
                    <div class="mobile-section-header">
                        <div class="mobile-section-icon">
                            <i class="${categoryInfo.icon}"></i>
                        </div>
                        <div class="mobile-section-title">
                            <h2>${categoryInfo.name}</h2>
                            <p>${categoryInfo.description}</p>
                        </div>
                        <div class="mobile-section-count">
                            ${categories[categoryKey].length}
                        </div>
                    </div>
                    <div class="mobile-projects-grid" id="grid-${categoryKey}"></div>
                `;
                
                container.appendChild(section);

                const grid = document.getElementById(`grid-${categoryKey}`);
                categories[categoryKey].forEach(project => {
                    const card = createProjectCard(project);
                    grid.appendChild(card);
                });
            });

            if (container.children.length === 0) {
                container.innerHTML = `
                    <div class="mobile-empty-state">
                        <i class="fas fa-search"></i>
                        <h3>No Projects Found</h3>
                        <p>Try a different filter</p>
                    </div>
                `;
            }
        }

        // Create project card
        function createProjectCard(project) {
            const card = document.createElement('div');
            card.className = 'mobile-project-card';
            card.onclick = () => openModal(project);

            // Get project number from id
            const projectNumber = String(project.id).padStart(2, '0');

            card.innerHTML = `
                <div class="mobile-card-number">#${projectNumber}</div>
                <div class="mobile-card-icon">
                    <i class="fas fa-microchip"></i>
                </div>
                <h3 class="mobile-card-title">${project.title}</h3>
                <p class="mobile-card-subtitle">${project.subtitle}</p>
                <div class="mobile-card-footer">
                    <span class="mobile-card-linktext">View Details</span>
                    <i class="fas fa-arrow-right"></i>
                </div>
            `;

            return card;
        }

        // Open project modal
        function openModal(project) {
            currentProject = project;
            const modal = document.getElementById('projectModal');
            
            document.getElementById('modalTitle').textContent = project.title;
            
            // Set circuit image (placeholder if not available)
            const imagePath = `../${project.folder}/circuit.png`;
            document.getElementById('modalImage').src = imagePath;
            document.getElementById('modalImage').onerror = function() {
                this.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300"><rect width="400" height="300" fill="%23CC0000" opacity="0.1"/><text x="50%" y="50%" text-anchor="middle" fill="%23CC0000" font-size="20">Circuit Preview</text></svg>';
            };

            // Project info
            document.getElementById('modalInfo').innerHTML = `
                <div class="mobile-info-item">
                    <div class="mobile-info-label">Project ID</div>
                    <div class="mobile-info-value">#${String(project.id).padStart(2, '0')}</div>
                </div>
                <div class="mobile-info-item">
                    <div class="mobile-info-label">Category</div>
                    <div class="mobile-info-value">${categoryNames[project.category]?.name || project.category}</div>
                </div>
                <div class="mobile-info-item" style="grid-column: 1 / -1;">
                    <div class="mobile-info-label">Description</div>
                    <div class="mobile-info-value">${project.description}</div>
                </div>
            `;

            // Components list
            document.getElementById('modalComponents').innerHTML = `
                <h3>Components Required</h3>
                <ul>
                    ${project.components.map(comp => `<li><i class="fas fa-check-circle"></i> ${comp}</li>`).join('')}
                </ul>
            `;

            // Tinkercad link
            document.getElementById('modalTinkercadBtn').href = project.tinkercad;

            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Close modal
        function closeModal() {
            document.getElementById('projectModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Share project
        function shareProject() {
            if (navigator.share && currentProject) {
                navigator.share({
                    title: currentProject.title,
                    text: `Check out this Arduino project: ${currentProject.title}`,
                    url: currentProject.tinkercad
                }).catch(err => console.log('Error sharing:', err));
            } else {
                // Fallback: copy link
                const textarea = document.createElement('textarea');
                textarea.value = currentProject.tinkercad;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                alert('Tinkercad link copied to clipboard!');
            }
        }

        // Filter functionality
        document.querySelectorAll('.mobile-filter-tab').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.mobile-filter-tab').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                const category = this.dataset.category;
                renderProjects(category);
            });
        });

        // Load on page load
        loadProjects();
    </script>

</body>
</html>
