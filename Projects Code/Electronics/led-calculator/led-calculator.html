<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LED Current Calculator - Electronics Tools</title>
    <link rel="stylesheet" href="../../../Optimization/styles.css">
    <link rel="stylesheet" href="../../../Optimization/navbar/desktop-navbar.css">
    <link rel="stylesheet" href="../../../Optimization/navbar-autohide.css">
    <link rel="stylesheet" href="../../../Optimization/Background/background-system.css">
    <link rel="stylesheet" href="../electronics tool/electronics-tools-shared.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-red: #8B0000;
            --primary-red-dark: #5a0000;
            --border-red: rgba(139, 0, 0, 0.4);
            --text-primary: rgba(255, 255, 255, 0.95);
            --text-secondary: rgba(255, 255, 255, 0.75);
        }

        body {
            background: #0a0a0a;
            background-image: 
                repeating-linear-gradient(0deg, transparent, transparent 19px, rgba(80, 0, 0, 0.08) 19px, rgba(80, 0, 0, 0.08) 20px),
                repeating-linear-gradient(90deg, transparent, transparent 19px, rgba(80, 0, 0, 0.08) 19px, rgba(80, 0, 0, 0.08) 20px),
                repeating-linear-gradient(45deg, transparent, transparent 39px, rgba(100, 0, 0, 0.04) 39px, rgba(100, 0, 0, 0.04) 40px);
            background-size: 20px 20px, 20px 20px, 40px 40px;
            background-attachment: fixed;
            color: var(--text-primary);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            body {
                padding-top: 60px;
            }
        }

        /* LED Visual */
        .led-visual {
            background: rgba(139, 0, 0, 0.08);
            border: 2px solid var(--border-red);
            border-radius: 14px;
            padding: 24px 16px;
            margin: 16px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
        }

        .led-circuit {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .circuit-symbol {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .led-symbol {
            width: 50px;
            height: 50px;
            position: relative;
        }

        .led-glow {
            position: absolute;
            inset: -8px;
            border-radius: 50%;
            background: radial-gradient(circle, var(--led-color, #C80000) 0%, transparent 70%);
            opacity: 0.6;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.4; transform: scale(0.9); }
            50% { opacity: 0.8; transform: scale(1.1); }
        }

        .led-body {
            width: 32px;
            height: 42px;
            background: linear-gradient(135deg, var(--led-color, #C80000) 0%, color-mix(in srgb, var(--led-color, #C80000) 70%, black) 100%);
            border-radius: 16px 16px 4px 4px;
            position: relative;
            z-index: 1;
            box-shadow: inset 0 -4px 8px rgba(0, 0, 0, 0.3),
                        0 3px 10px rgba(0, 0, 0, 0.4);
        }

        .led-shine {
            position: absolute;
            top: 8px;
            left: 10px;
            width: 12px;
            height: 20px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.6), transparent);
            border-radius: 50%;
        }

        .led-legs {
            display: flex;
            gap: 15px;
            margin-top: -5px;
        }

        .led-leg {
            width: 3px;
            height: 20px;
            background: linear-gradient(to bottom, #c0c0c0, #808080);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .resistor-symbol {
            width: 70px;
            height: 30px;
            background: linear-gradient(to right, 
                transparent 0%, #d4c5a9 10%, #d4c5a9 90%, transparent 100%);
            position: relative;
        }

        .resistor-zigzag {
            position: absolute;
            inset: 0;
            background: repeating-linear-gradient(90deg,
                transparent, transparent 8px,
                rgba(139, 69, 19, 0.3) 8px, rgba(139, 69, 19, 0.3) 10px
            );
        }

        .wire {
            width: 40px;
            height: 3px;
            background: linear-gradient(to right, #c0c0c0, #a0a0a0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .symbol-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        /* LED Type Selector */
        .led-type-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 12px;
        }

        .led-type-btn {
            padding: 14px;
            background: rgba(139, 0, 0, 0.12);
            border: 2px solid var(--border-red);
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
        }

        .led-type-btn.selected {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.15);
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
        }

        .led-color-dot {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            box-shadow: 0 0 12px currentColor, inset 0 -2px 4px rgba(0, 0, 0, 0.3);
        }

        .led-type-label {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .led-type-voltage {
            font-size: 0.7rem;
            color: var(--text-secondary);
        }

        /* Configuration Selector */
        .config-selector {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .config-btn {
            flex: 1;
            padding: 10px;
            background: rgba(204, 0, 0, 0.08);
            border: 1.5px solid rgba(204, 0, 0, 0.3);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }

        .config-btn.selected {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.15);
        }

        .config-icon {
            font-size: 1.5rem;
        }

        .config-label {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Power Rating Display */
        .power-rating-display {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-top: 12px;
        }

        .power-option {
            padding: 10px 8px;
            background: rgba(204, 0, 0, 0.08);
            border: 1.5px solid rgba(204, 0, 0, 0.3);
            border-radius: 10px;
            text-align: center;
            transition: all 0.2s ease;
        }

        .power-option.recommended {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.15);
            box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
        }

        .power-value {
            font-size: 0.85rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .power-status {
            font-size: 0.65rem;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        /* Quick Access Buttons */
        .quick-access {
            display: flex;
            gap: 8px;
            margin: 16px 0;
            flex-wrap: wrap;
        }

        .quick-btn {
            flex: 1;
            min-width: 140px;
            padding: 10px 12px;
            background: rgba(139, 0, 0, 0.12);
            border: 1.5px solid var(--border-red);
            border-radius: 10px;
            color: var(--text-secondary);
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .quick-btn:hover {
            background: linear-gradient(135deg, var(--primary-red), var(--primary-red-dark));
            border-color: var(--primary-red);
            color: #ffffff;
            box-shadow: 0 4px 15px rgba(139, 0, 0, 0.4);
            transform: translateY(-2px);
        }

        /* Documentation Section */
        .doc-section {
            margin-top: 32px;
            padding-top: 24px;
            border-top: 2px solid var(--border-red);
        }

        .doc-card {
            background: rgba(139, 0, 0, 0.08);
            border: 2px solid var(--border-red);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .doc-card h3 {
            color: var(--primary-red);
            font-size: 1.3rem;
            margin: 0 0 16px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .doc-card h4 {
            color: var(--text-primary);
            font-size: 1.1rem;
            margin: 16px 0 10px 0;
        }

        .doc-card p, .doc-card li {
            color: var(--text-secondary);
            line-height: 1.7;
            margin: 8px 0;
        }

        .doc-card ul, .doc-card ol {
            margin: 10px 0;
            padding-left: 24px;
        }

        .doc-card code {
            background: rgba(255, 255, 255, 0.05);
            padding: 2px 6px;
            border-radius: 4px;
            color: #ff9800;
            font-family: 'Courier New', monospace;
        }

        .formula-box {
            background: rgba(0, 0, 0, 0.3);
            border-left: 3px solid var(--primary-red);
            padding: 12px 16px;
            margin: 12px 0;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            color: var(--text-primary);
        }

        .example-box {
            background: rgba(139, 0, 0, 0.1);
            border: 2px dashed var(--border-red);
            border-radius: 10px;
            padding: 16px;
            margin: 12px 0;
        }

        .example-box h5 {
            color: var(--primary-red);
            margin: 0 0 10px 0;
            font-size: 1.05rem;
        }

        .example-step {
            background: rgba(0, 0, 0, 0.3);
            padding: 8px 12px;
            margin: 6px 0;
            border-radius: 6px;
            border-left: 3px solid #4caf50;
        }

        .accuracy-badge {
            display: inline-block;
            padding: 4px 10px;
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid rgba(76, 175, 80, 0.4);
            border-radius: 6px;
            color: #4caf50;
            font-size: 0.9rem;
            font-weight: 600;
            margin: 4px 4px 4px 0;
        }

        .warning-badge {
            display: inline-block;
            padding: 4px 10px;
            background: rgba(255, 152, 0, 0.2);
            border: 1px solid rgba(255, 152, 0, 0.4);
            border-radius: 6px;
            color: #ff9800;
            font-size: 0.9rem;
            font-weight: 600;
            margin: 4px 4px 4px 0;
        }

        .led-ref-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            overflow: hidden;
        }

        .led-ref-table th,
        .led-ref-table td {
            padding: 10px 12px;
            text-align: left;
            border-bottom: 1px solid rgba(139, 0, 0, 0.3);
        }

        .led-ref-table th {
            background: rgba(139, 0, 0, 0.2);
            color: var(--primary-red);
            font-weight: 600;
        }

        .led-ref-table td {
            color: var(--text-secondary);
        }

        .color-dot {
            display: inline-block;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 1px solid rgba(255, 255, 255, 0.3);
            vertical-align: middle;
            margin-right: 6px;
        }
    </style>
</head>
<body>
    <!-- Desktop Navigation -->
    <nav class="desktop-navbar" id="desktopNavbar">
        <div class="desktop-nav-container">
            <a href="../../../Home/index.html" class="desktop-nav-logo" title="A3KM Studio - Home">
                <img src="../../../images/logo.svg" alt="A3KM Studio Logo" class="desktop-nav-logo-img" width="55" height="55">
                <div class="desktop-nav-brand">
                    <span class="desktop-nav-brand-name">A3KM Studio</span>
                    <span class="desktop-nav-brand-tagline">Engineering · Education · Innovation</span>
                </div>
            </a>
            <ul class="desktop-nav-menu">
                <li class="desktop-nav-item">
                    <a href="../../../About me/about.html" class="desktop-nav-link" id="nav-about">
                        <i class="fas fa-user-circle"></i>
                        <span>About</span>
                    </a>
                </li>
                <li class="desktop-nav-item">
                    <a href="../../projects.html" class="desktop-nav-link active" id="nav-projects">
                        <i class="fas fa-folder-open"></i>
                        <span>Projects</span>
                    </a>
                </li>
                <li class="desktop-nav-item">
                    <a href="../../../Content Studio/hub.html" class="desktop-nav-link" id="nav-blog">
                        <i class="fas fa-layer-group"></i>
                        <span>Content Studio</span>
                    </a>
                </li>
                <li class="desktop-nav-item">
                    <a href="../../../Contact/contact.html" class="desktop-nav-link" id="nav-contact">
                        <i class="fas fa-envelope"></i>
                        <span>Contact</span>
                    </a>
                </li>
                <li class="desktop-nav-item">
                    <a href="/About%20me/CV/2313014%20CV.pdf" class="desktop-nav-link desktop-nav-cv-btn" download="Md_Akhinoor_Islam_CV.pdf" title="Download CV">
                        <i class="fas fa-download"></i>
                        <span>CV</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <main class="tool-container">
        <div class="tool-header">
            <a href="../../projects.html#electronics" class="back-btn" title="Back to Projects">
                <i class="fas fa-arrow-left"></i>
            </a>
            <div>
                <h1 class="tool-title"><i class="fas fa-lightbulb"></i> LED Current Calculator</h1>
                <p class="tool-description">Calculate current-limiting resistors for LEDs</p>
            </div>
        </div>

        <!-- Quick Access Guide Buttons -->
        <div class="quick-access" style="display: flex; flex-wrap: wrap; gap: 8px; margin: 16px 0;">
            <a href="#calculation-method" class="quick-btn" style="flex: 1; min-width: 120px;">
                <i class="fas fa-calculator"></i> Calculation
            </a>
            <a href="#led-reference" class="quick-btn" style="flex: 1; min-width: 120px;">
                <i class="fas fa-list"></i> Reference
            </a>
            <a href="#usage-guide" class="quick-btn" style="flex: 1; min-width: 120px;">
                <i class="fas fa-book-open"></i> Usage
            </a>
            <a href="#accuracy" class="quick-btn" style="flex: 1; min-width: 120px;">
                <i class="fas fa-bullseye"></i> Accuracy
            </a>
            <a href="#precautions" class="quick-btn" style="flex: 1; min-width: 120px;">
                <i class="fas fa-exclamation-triangle"></i> Safety
            </a>
        </div>

        <div class="tool-content">
        <!-- Info Box -->
        <div class="info-box">
            <i class="fas fa-info-circle"></i>
            <p><strong>Formula:</strong> R = (Vs - Vf) / I<br>Calculate current-limiting resistor for LEDs. Data averaged from Vishay, Cree, OSRAM, and Nichia datasheets.</p>
        </div>

        <!-- LED Visual -->
        <div class="led-visual">
            <div class="led-circuit">
                <div class="circuit-symbol">
                    <div class="wire"></div>
                    <div class="symbol-label">+</div>
                </div>
                
                <div class="circuit-symbol">
                    <div class="resistor-symbol">
                        <div class="resistor-zigzag"></div>
                    </div>
                    <div class="symbol-label" id="resistorLabel">? Ω</div>
                </div>
                
                <div class="circuit-symbol">
                    <div class="led-symbol">
                        <div class="led-glow" id="ledGlow"></div>
                        <div class="led-body" id="ledBody">
                            <div class="led-shine"></div>
                        </div>
                    </div>
                    <div class="led-legs">
                        <div class="led-leg" style="height: 25px;"></div>
                        <div class="led-leg"></div>
                    </div>
                    <div class="symbol-label">LED</div>
                </div>
                
                <div class="circuit-symbol">
                    <div class="wire"></div>
                    <div class="symbol-label">−</div>
                </div>
            </div>
        </div>

        <!-- LED Type Selector -->
        <div class="tool-card">
            <div class="form-label">Select LED Type</div>
            <div class="led-type-grid" id="ledTypeGrid">
                <!-- Generated by JS -->
            </div>
        </div>

        <!-- Configuration -->
        <div class="tool-card">
            <div class="form-label">Configuration</div>
            <div class="config-selector">
                <div class="config-btn selected" data-config="single" onclick="selectConfig('single')">
                    <div class="config-icon">●</div>
                    <div class="config-label">Single</div>
                </div>
                <div class="config-btn" data-config="series" onclick="selectConfig('series')">
                    <div class="config-icon">●—●</div>
                    <div class="config-label">Series</div>
                </div>
                <div class="config-btn" data-config="parallel" onclick="selectConfig('parallel')">
                    <div class="config-icon">●<br>●</div>
                    <div class="config-label">Parallel</div>
                </div>
            </div>
            
            <div id="configInputs" style="margin-top: 16px;"></div>
        </div>

        <!-- Supply Voltage -->
        <div class="tool-card">
            <div class="form-group">
                <label class="form-label">Supply Voltage (Vs)</label>
                <input type="number" id="supplyVoltage" class="form-input" placeholder="e.g., 5, 9, 12" step="0.1" min="0" value="5">
            </div>
        </div>

        <!-- LED Current -->
        <div class="tool-card">
            <div class="form-group">
                <label class="form-label">LED Current (mA)</label>
                <input type="number" id="ledCurrent" class="form-input" placeholder="e.g., 20" step="1" min="1" value="20">
                <p class="text-small text-dim" style="margin-top: 6px;">Typical: 10-20mA for indicators, up to 30mA for high-brightness</p>
            </div>
        </div>

        <!-- Calculate Button -->
        <button class="btn-primary" onclick="calculateLED()">
            <i class="fas fa-calculator"></i> Calculate Resistor
        </button>

        <!-- Result -->
        <div id="ledResult"></div>
        </div>
    </main>

    <!-- Documentation Section -->
    <section class="tool-container doc-section">
        <div class="doc-card" id="calculation-method">
            <h3><i class="fas fa-calculator"></i> Calculation Method & Formula</h3>
            
            <h4>Ohm's Law for LED Current Limiting:</h4>
            <div class="formula-box">
                <strong>R = (Vs - Vf) / I</strong><br><br>
                Where:<br>
                • R = Resistor value (Ohms)<br>
                • Vs = Supply voltage (Volts)<br>
                • Vf = LED forward voltage (Volts)<br>
                • I = LED current (Amperes)
            </div>

            <h4>Power Dissipation Calculation:</h4>
            <div class="formula-box">
                <strong>P = (Vs - Vf) × I</strong><br>
                or<br>
                <strong>P = I² × R</strong><br><br>
                Power rating must be at least 2× calculated power for safety margin
            </div>

            <h4>Multiple LED Configurations:</h4>
            <ul>
                <li><strong>Series:</strong> R = (Vs - (Vf × N)) / I, where N = number of LEDs</li>
                <li><strong>Parallel:</strong> R = (Vs - Vf) / (I × N), or use separate resistor for each LED</li>
            </ul>

            <h4>Calculation Basis:</h4>
            <p>This calculator uses <strong>Ohm's Law</strong> and manufacturer datasheet specifications:</p>
            <ul>
                <li><strong>Forward Voltage (Vf):</strong> Averaged from Vishay, Cree, OSRAM, and Nichia datasheets</li>
                <li><strong>Current Limiting:</strong> Based on typical operating current ranges</li>
                <li><strong>Power Rating:</strong> Calculated using P=I²R with 2× safety margin</li>
                <li><strong>Standard Resistor Values:</strong> E12/E24 series recommendations</li>
            </ul>

            <h4>Step-by-Step Calculation Example:</h4>
            <div class="example-box">
                <h5>Example: Red LED at 20mA from 5V supply</h5>
                <div class="example-step">
                    <strong>Step 1:</strong> Identify values<br>
                    • Supply Voltage (Vs) = 5V<br>
                    • LED Forward Voltage (Vf) = 2.0V (typical for red LED)<br>
                    • Desired Current (I) = 20mA = 0.020A
                </div>
                <div class="example-step">
                    <strong>Step 2:</strong> Calculate voltage drop across resistor<br>
                    • Voltage Drop = Vs - Vf = 5V - 2.0V = 3V
                </div>
                <div class="example-step">
                    <strong>Step 3:</strong> Calculate resistor value<br>
                    • R = Voltage Drop / Current = 3V / 0.020A = <strong>150Ω</strong>
                </div>
                <div class="example-step">
                    <strong>Step 4:</strong> Calculate power dissipation<br>
                    • P = I² × R = (0.020)² × 150 = 0.06W = <strong>60mW</strong>
                </div>
                <div class="example-step">
                    <strong>Step 5:</strong> Choose resistor wattage<br>
                    • Recommended: 2× safety margin = 120mW<br>
                    • Use: <strong>1/4W (250mW) resistor</strong> ✓
                </div>
                <p style="margin-top: 10px; color: #4caf50;"><strong>✓ Final Answer:</strong> Use 150Ω 1/4W resistor</p>
            </div>

            <div class="example-box">
                <h5>Example 2: Three Blue LEDs in Series from 12V</h5>
                <div class="example-step">
                    <strong>Given:</strong> Vs=12V, 3× Blue LEDs (Vf=3.2V each), I=20mA
                </div>
                <div class="example-step">
                    <strong>Total Vf:</strong> 3.2V × 3 = 9.6V
                </div>
                <div class="example-step">
                    <strong>Voltage Drop:</strong> 12V - 9.6V = 2.4V
                </div>
                <div class="example-step">
                    <strong>Resistor:</strong> R = 2.4V / 0.020A = <strong>120Ω</strong>
                </div>
                <div class="example-step">
                    <strong>Power:</strong> P = 2.4V × 0.020A = 0.048W = <strong>48mW</strong>
                </div>
                <p style="margin-top: 10px; color: #4caf50;"><strong>✓ Result:</strong> 120Ω 1/4W resistor</p>
            </div>
        </div>

        <div class="doc-card" id="led-reference">
            <h3><i class="fas fa-list"></i> LED Specifications Reference</h3>
            
            <h4>Forward Voltage (Vf) by LED Color:</h4>
            <table class="led-ref-table">
                <thead>
                    <tr>
                        <th>LED Type</th>
                        <th>Forward Voltage (Vf)</th>
                        <th>Typical Current</th>
                        <th>Max Current</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="color-dot" style="background: #FF0000;"></span>Red</td>
                        <td>1.8 - 2.2V (avg: 2.0V)</td>
                        <td>20mA</td>
                        <td>30mA</td>
                    </tr>
                    <tr>
                        <td><span class="color-dot" style="background: #00FF00;"></span>Green</td>
                        <td>2.0 - 2.4V (avg: 2.2V)</td>
                        <td>20mA</td>
                        <td>30mA</td>
                    </tr>
                    <tr>
                        <td><span class="color-dot" style="background: #FFFF00;"></span>Yellow</td>
                        <td>2.0 - 2.4V (avg: 2.1V)</td>
                        <td>20mA</td>
                        <td>30mA</td>
                    </tr>
                    <tr>
                        <td><span class="color-dot" style="background: #FFA500;"></span>Orange</td>
                        <td>2.0 - 2.3V (avg: 2.1V)</td>
                        <td>20mA</td>
                        <td>30mA</td>
                    </tr>
                    <tr>
                        <td><span class="color-dot" style="background: #0000FF;"></span>Blue</td>
                        <td>3.0 - 3.6V (avg: 3.2V)</td>
                        <td>20mA</td>
                        <td>30mA</td>
                    </tr>
                    <tr>
                        <td><span class="color-dot" style="background: #FFFFFF; border-color: #666;"></span>White</td>
                        <td>3.0 - 3.6V (avg: 3.3V)</td>
                        <td>20mA</td>
                        <td>30mA</td>
                    </tr>
                    <tr>
                        <td><span class="color-dot" style="background: #FF00FF;"></span>UV/Purple</td>
                        <td>3.0 - 3.8V (avg: 3.4V)</td>
                        <td>20mA</td>
                        <td>30mA</td>
                    </tr>
                    <tr>
                        <td><span class="color-dot" style="background: #FF0000;"></span>Infrared</td>
                        <td>1.2 - 1.8V (avg: 1.5V)</td>
                        <td>50mA</td>
                        <td>100mA</td>
                    </tr>
                </tbody>
            </table>

            <h4>Common LED Packages & Applications:</h4>
            <ul>
                <li><strong>3mm/5mm Through-hole:</strong> Indicators, status lights (10-20mA typical)</li>
                <li><strong>10mm High-brightness:</strong> Flashlights, spotlights (up to 30mA)</li>
                <li><strong>SMD 0603/0805:</strong> PCB indicators (5-10mA typical)</li>
                <li><strong>SMD 1206/5050:</strong> Backlighting, strips (20-30mA typical)</li>
                <li><strong>Power LEDs (1W/3W):</strong> Requires heatsink, up to 350mA-1A</li>
            </ul>

            <h4>Standard Resistor Values (E12 Series):</h4>
            <p>10, 12, 15, 18, 22, 27, 33, 39, 47, 56, 68, 82 (and multiples: ×10, ×100, ×1k)</p>
            <p><strong>Most Common for LEDs:</strong> 100Ω, 150Ω, 220Ω, 330Ω, 470Ω, 1kΩ</p>
        </div>

        <div class="doc-card" id="usage-guide">
            <h3><i class="fas fa-book-open"></i> Usage Guide & Instructions</h3>
            
            <h4>Step-by-Step Usage:</h4>
            <ol>
                <li><strong>Select LED Type:</strong> Click on the LED color that matches your component</li>
                <li><strong>Choose Configuration:</strong>
                    <ul>
                        <li><strong>Single:</strong> One LED with one resistor</li>
                        <li><strong>Series:</strong> Multiple LEDs connected end-to-end (+ to -)</li>
                        <li><strong>Parallel:</strong> Multiple LEDs connected side-by-side (all + together, all - together)</li>
                    </ul>
                </li>
                <li><strong>Enter Supply Voltage:</strong> Voltage of your power source (e.g., 5V USB, 9V battery, 12V adapter)</li>
                <li><strong>Set LED Current:</strong> 
                    <ul>
                        <li>10-15mA: Low brightness indicators</li>
                        <li>20mA: Standard brightness (recommended)</li>
                        <li>25-30mA: High brightness (check LED max rating)</li>
                    </ul>
                </li>
                <li><strong>Calculate:</strong> Click button to see resistor value and power rating</li>
            </ol>

            <h4>Reading the Results:</h4>
            <ul>
                <li><strong>Resistor Value:</strong> Use the nearest standard value (calculator shows closest E12/E24)</li>
                <li><strong>Power Rating:</strong> Choose next highest standard wattage (1/8W, 1/4W, 1/2W, 1W)</li>
                <li><strong>Voltage Drop:</strong> Shows how much voltage is dropped across the resistor</li>
                <li><strong>LED Voltage:</strong> Confirms the forward voltage being used</li>
            </ul>

            <h4>Series vs Parallel - When to Use:</h4>
            <ul>
                <li><strong>Use Series when:</strong>
                    <ul>
                        <li>You have higher supply voltage (e.g., 12V with 3× LEDs at 3V each)</li>
                        <li>You want same current through all LEDs</li>
                        <li>More efficient (one resistor for multiple LEDs)</li>
                        <li><strong>Warning:</strong> If one LED fails open, all LEDs go off</li>
                    </ul>
                </li>
                <li><strong>Use Parallel when:</strong>
                    <ul>
                        <li>Supply voltage is close to LED forward voltage</li>
                        <li>You want redundancy (one LED failure doesn't affect others)</li>
                        <li><strong>Important:</strong> Use separate resistor for EACH LED in parallel</li>
                        <li>Parallel without individual resistors can cause current imbalance</li>
                    </ul>
                </li>
            </ul>
        </div>

        <div class="doc-card" id="accuracy">
            <h3><i class="fas fa-bullseye"></i> Accuracy, Error Tolerance & Limitations</h3>
            
            <h4>Calculator Accuracy:</h4>
            <div class="accuracy-badge">±1% Calculation Accuracy</div>
            <div class="accuracy-badge">Ohm's Law Based</div>
            <div class="accuracy-badge">Datasheet Verified</div>
            
            <p>The calculation itself is <strong>mathematically exact</strong> using Ohm's Law. All formulas are verified against electrical engineering standards.</p>

            <h4>Real-World Tolerance Factors:</h4>
            <ul>
                <li><strong>LED Forward Voltage Variation:</strong> ±0.2V typical between units
                    <ul>
                        <li>Same LED model can vary by ±10% in Vf</li>
                        <li>Vf increases slightly with temperature</li>
                    </ul>
                </li>
                <li><strong>Resistor Tolerance:</strong> ±5% (Gold band) or ±10% (Silver band) is standard</li>
                <li><strong>Supply Voltage Variation:</strong> Most power supplies: ±5%</li>
                <li><strong>Combined Error:</strong> Actual current can vary ±15-20% from calculated</li>
            </ul>

            <h4>Accuracy Percentage:</h4>
            <p><strong>Calculator Error:</strong> <1% (mathematical precision)<br>
            <strong>Component Tolerance:</strong> ±10-20% (LED Vf + resistor tolerance)<br>
            <strong>Measurement Accuracy:</strong> Limited by multimeter (typically ±1%)</p>

            <h4>Why This Tolerance is Acceptable:</h4>
            <ul>
                <li>LEDs have wide safe current range (typically 10-30mA)</li>
                <li>±20% variation in 20mA = 16-24mA (still within safe range)</li>
                <li>Brightness changes are barely noticeable within ±20%</li>
                <li>Always stay below LED maximum current rating</li>
            </ul>

            <h4>Limitations:</h4>
            <ul>
                <li><strong>Temperature Effects:</strong> Vf decreases ~2mV/°C (not calculated)</li>
                <li><strong>Aging:</strong> LED Vf can drift over years of use</li>
                <li><strong>High-Power LEDs:</strong> Require constant-current drivers, not just resistors</li>
                <li><strong>PWM Dimming:</strong> Not covered by resistor calculation</li>
                <li><strong>Voltage Regulation:</strong> Assumes stable supply voltage</li>
            </ul>
        </div>

        <div class="doc-card" id="precautions">
            <h3><i class="fas fa-exclamation-triangle"></i> Safety & Precautions</h3>
            
            <div class="warning-badge">⚠️ Current Limit Critical</div>
            <div class="warning-badge">⚠️ Power Rating Important</div>
            <div class="warning-badge">⚠️ Polarity Matters</div>

            <h4>Critical Safety Rules:</h4>
            <ul>
                <li><strong>Never Connect LED Without Resistor:</strong> Will draw excessive current and burn out instantly</li>
                <li><strong>Check LED Polarity:</strong> 
                    <ul>
                        <li>Longer leg = Anode (+)</li>
                        <li>Shorter leg = Cathode (-)</li>
                        <li>Flat edge on LED body = Cathode side</li>
                        <li>Reverse connection = No damage but no light</li>
                    </ul>
                </li>
                <li><strong>Respect Maximum Current:</strong> Exceeding max current causes:
                    <ul>
                        <li>Reduced LED lifespan</li>
                        <li>Excessive heat generation</li>
                        <li>Permanent damage/burnout</li>
                    </ul>
                </li>
                <li><strong>Power Rating Safety Margin:</strong> Always use resistor rated for 2× calculated power minimum</li>
            </ul>

            <h4>Series Connection Warnings:</h4>
            <ul>
                <li>All LEDs MUST be same type/color (same Vf)</li>
                <li>Ensure supply voltage > (Vf × number of LEDs) + 2V minimum headroom</li>
                <li>If one LED fails open, entire string goes dark</li>
            </ul>

            <h4>Parallel Connection Warnings:</h4>
            <ul>
                <li><strong>NEVER parallel LEDs with single shared resistor</strong> (current imbalance risk)</li>
                <li>Always use individual resistor for each LED branch</li>
                <li>Different Vf between LEDs causes unequal current sharing</li>
            </ul>

            <h4>High-Power LED Special Considerations:</h4>
            <ul>
                <li><strong>Power LEDs (>100mA):</strong> Resistors are inefficient, use constant-current drivers</li>
                <li><strong>Heat Management:</strong> Requires heatsink for LEDs >1W</li>
                <li><strong>Thermal Runaway:</strong> LED heats up → Vf drops → Current increases → More heat (requires active regulation)</li>
            </ul>

            <h4>Best Practices:</h4>
            <ul>
                <li>Measure LED Vf with multimeter if possible (diode test mode)</li>
                <li>Start with higher resistor value, reduce if too dim</li>
                <li>Use 1/4W resistors as minimum standard</li>
                <li>Keep LED current at 80% of maximum rating for longevity</li>
                <li>Use regulated power supply for consistent brightness</li>
            </ul>
        </div>

        <div class="doc-card">
            <h3><i class="fas fa-tools"></i> Troubleshooting Common Issues</h3>
            
            <h4>LED Not Lighting:</h4>
            <ul>
                <li>Check polarity - try reversing LED connection</li>
                <li>Verify supply voltage is present</li>
                <li>Test LED with known-good resistor</li>
                <li>Ensure resistor value isn't too high (LED too dim to see)</li>
            </ul>

            <h4>LED Too Dim:</h4>
            <ul>
                <li>Resistor value too high - reduce resistance</li>
                <li>Supply voltage lower than expected</li>
                <li>LED current set too low (increase to 20mA)</li>
            </ul>

            <h4>LED Too Bright/Hot:</h4>
            <ul>
                <li>Resistor value too low - increase resistance</li>
                <li>Current exceeds safe maximum</li>
                <li>Check for short circuit bypassing resistor</li>
            </ul>

            <h4>Resistor Getting Hot:</h4>
            <ul>
                <li>Normal if warm, but should never burn to touch</li>
                <li>If very hot: increase power rating (use 1/2W or 1W)</li>
                <li>High voltage drop across resistor wastes power as heat</li>
                <li>Consider series configuration to reduce resistor power</li>
            </ul>

            <h4>Inconsistent Brightness (Parallel LEDs):</h4>
            <ul>
                <li>Use individual resistor for each LED</li>
                <li>LEDs may have different Vf values</li>
                <li>Ensure all LEDs are from same batch/manufacturer</li>
            </ul>
        </div>
    </section>

    <footer class="tool-footer">
        <p class="source-citation">
            <i class="fas fa-book"></i> Data Source: LED specifications averaged from Vishay, Cree, OSRAM, Nichia datasheets<br>
            Standard forward voltages and maximum ratings
        </p>
    </footer>

    <script src="led-calculator.js"></script>
    <script src="../../../Optimization/script.js"></script>
    <script>
    (function() {
      window.addEventListener('scroll', function() {
        const navbar = document.getElementById('desktopNavbar');
        if (navbar) {
          if (window.scrollY > 50) {
            navbar.classList.add('scrolled');
          } else {
            navbar.classList.remove('scrolled');
          }
        }
      });
    })();
    </script>
    <script src="../../../Optimization/navbar-autohide.js"></script>
</body>
</html>
